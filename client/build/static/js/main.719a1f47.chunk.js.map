{"version":3,"sources":["reportWebVitals.js","config.js","auth/index.js","core/Menu.js","core/cartHelpers.js","core/Layout.js","user/Signup.jsx","user/Signin.jsx","core/apiCore.js","core/ShowImage.jsx","core/Card.jsx","core/Search.jsx","core/Home.js","auth/PrivateRoute.js","user/apiUser.js","user/UserDashboard.jsx","user/AdminDashBoard.js","auth/AdminRoute.jsx","admin/apiAdmin.js","admin/AddCategory.jsx","admin/AddProduct.jsx","core/CheckBox.jsx","core/fixedPrices.js","core/RadioBox.jsx","core/Shop.jsx","core/Product.jsx","core/Checkout.jsx","core/Cart.jsx","admin/Orders.jsx","user/Profile.jsx","admin/ManageProducts.jsx","admin/UpdateProduct.jsx","admin/updateCategory.jsx","Routes.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","to","style","icon","faShoppingCart","length","user","role","onClick","next","removeItem","fetch","method","response","console","log","catch","err","signout","push","cursor","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","value","event","target","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","redirectUser","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","quantity","product","showViewProductButton","showAddToCartButton","cartUpdate","showRemoveProductButton","setRun","f","run","undefined","redirect","setRedirect","count","setCount","addToCart","cart","Array","from","Set","map","p","id","find","addItem","productId","i","updateItem","shouldRedirect","substring","faRupeeSign","price","category","moment","createdAt","fromNow","backgroundColor","showViewButton","showAddToCartBtn","splice","showRemoveButton","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","searchMessage","onSubmit","c","placeholder","border","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","loadProductsByArrival","loadProductsBySell","PrivateRoute","Component","component","rest","render","props","state","UserDashboard","setHistory","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminDashBoard","AdminRoute","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","CheckBox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","marginRight","prices","array","RadioBox","setValue","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","filterBy","newFilters","priceValues","handlePrice","loadFilteredResults","key","parseInt","loadMore","toSkip","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","listRelated","match","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","options","authorization","googlePay","flow","onInstance","Cart","items","setItems","showItems","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","showStatus","o","index","oIndex","borderBottom","pIndex","padding","Profile","update","alert","auth","updateUser","profileUpdate","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","UpdateCategory","categoryId","getCategory","submitCategoryForm","updateCategory","data-dismiss","aria-label","aria-hidden","Routes","exact","AdminDashboard","ReactDOM","StrictMode","document","getElementById"],"mappings":"+MAYeA,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,Q,mCCPDQ,EAAMC,4BCoCNC,EAAkB,WAC3B,MAAqB,oBAAVC,WAGPC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,U,uBClCzCG,EAAW,SAACC,EAASC,GACzB,OAAID,EAAQE,SAASC,WAAaF,EACzB,CAAEG,MAAO,WAET,CAAEA,MAAO,YAmGLC,eA/FF,SAAC,GAAiB,IAAfL,EAAc,EAAdA,QACd,OACE,8BACE,qBAAIM,UAAU,0BAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,IAAIC,MAAOT,EAASC,EAAS,KAA3D,oBAKF,oBAAIM,UAAU,WAAd,SACE,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,QAAQC,MAAOT,EAASC,EAAS,SAA/D,oBAKF,oBAAIM,UAAU,WAAd,SACQ,eAAC,IAAD,CACIA,UAAU,WACVE,MAAOT,EAASC,EAAS,SACzBO,GAAG,QAHP,UAKI,cAAC,IAAD,CAAiBE,KAAMC,MAL3B,IAK+C,IAC3C,8BACI,uBAAOJ,UAAU,aAAjB,SCTE,qBAAXZ,QACHC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,SAASe,OAGjD,WDSFlB,KAAqD,IAAhCA,IAAkBmB,KAAKC,MAC3C,oBAAIP,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,kBACHC,MAAOT,EAASC,EAAS,mBAH3B,yBAUHP,KAAqD,IAAhCA,IAAkBmB,KAAKC,MAC3C,oBAAIP,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,mBACHC,MAAOT,EAASC,EAAS,oBAH3B,0BAUFP,KACA,eAAC,WAAD,WACE,oBAAIa,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,UACHC,MAAOT,EAASC,EAAS,WAH3B,sBAQF,oBAAIM,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVC,GAAG,UACHC,MAAOT,EAASC,EAAS,WAH3B,yBAULP,GACC,oBAAIa,UAAU,WAAd,SACE,sBACEA,UAAU,WACVQ,QAAS,kBDvCA,SAACC,GACpB,GAAsB,qBAAXrB,OAGP,OAFAC,aAAaqB,WAAW,OACxBD,IACOE,MAAM,GAAD,OAAI1B,EAAJ,YAAmB,CACvB2B,OAAQ,QACTjC,MAAK,SAAAkC,GACJC,QAAQC,IAAI,UAAWF,MAE1BG,OAAM,SAAAC,GACHH,QAAQC,IAAI,YC8BZG,EAAQ,WACNxB,EAAQyB,KAAK,SAGjBjB,MAAO,CAAEkB,OAAQ,UAAWtB,MAAO,WAPrC,+B,MExFG,SAASuB,EAAT,GAKX,IAAD,IAJDC,aAIC,MAJO,QAIP,MAHDC,mBAGC,MAHa,cAGb,EAFDvB,EAEC,EAFDA,UACAwB,EACC,EADDA,SAEA,OACE,gCACE,cAAC,EAAD,IACA,sBAAKxB,UAAU,YAAf,UACE,6BAAKsB,IACL,mBAAGtB,UAAU,OAAb,SAAqBuB,OAGvB,qBAAKvB,UAAWA,EAAhB,SAA4BwB,OCblC,IAsFeC,EAtFA,WAEb,MAA4BC,mBAAS,CACnCC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,SAAS,IALX,mBAAOC,EAAP,KAAeC,EAAf,KAQMN,EAA0CK,EAA1CL,KAAMC,EAAoCI,EAApCJ,MAAOC,EAA6BG,EAA7BH,SAAUE,EAAmBC,EAAnBD,QAASD,EAAUE,EAAVF,MAElCI,EAAa,SAACC,GAAD,OAAS,SAAAC,GAC1BH,EAAU,2BAAKD,GAAN,gBAAcF,OAAO,GAAQK,EAAQC,EAAMC,OAAOF,WAGvDG,EAAc,SAAAF,GJnBE,IAAA9B,EIoBpB8B,EAAMG,iBACNN,EAAU,2BAAKD,GAAN,IAAcF,OAAO,MJrBVxB,EIsBb,CAAEqB,OAAMC,QAAOC,YJrBblB,MAAM,GAAD,OAAI1B,EAAJ,WAAkB,CACtB2B,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMnD,KAAKoD,UAAUrC,KAExB3B,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GACHH,QAAQC,IAAIE,OISYtC,MAAK,SAAAkE,GAC/BA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,MAAOC,SAAS,KAEnDE,EAAU,2BACHD,GADE,IAELL,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,SAAS,SA+CrB,OACE,eAACV,EAAD,CAAQC,MAAM,WAAWC,YAAY,qCACrCvB,UAAU,iCADV,UANF,sBAAKA,UAAU,mBAAmBE,MAAO,CAAE4C,QAASf,EAAU,GAAK,QAAnE,4CACmC,cAAC,IAAD,CAAM9B,GAAG,UAAT,uBAPnC,qBAAKD,UAAU,qBAAqBE,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAAnE,SACKA,IA9BL,iCACA,sBAAK9B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAO+C,SAAUb,EAAa,QAASc,KAAK,OAAOhD,UAAU,eAC7DmC,MAAOR,OAIX,sBAAK3B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAO+C,SAAUb,EAAa,SAAUc,KAAK,QAAQhD,UAAU,eAC/DmC,MAAOP,OAIX,sBAAK5B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAO+C,SAAUb,EAAa,YAAac,KAAK,WAAWhD,UAAU,eACrEmC,MAAON,OAGX,wBAAQrB,QAAS8B,EAAatC,UAAU,kBAAxC,2BC4CaiD,EArGA,WAEX,MAA4BvB,mBAAS,CACjCE,MAAO,iBACPC,SAAU,WACVC,MAAO,GACPoB,SAAS,EACTC,oBAAoB,IALxB,mBAAOnB,EAAP,KAAeC,EAAf,KAQQL,EAAwDI,EAAxDJ,MAAOC,EAAiDG,EAAjDH,SAAUqB,EAAuClB,EAAvCkB,QAASpB,EAA8BE,EAA9BF,MAAOqB,EAAuBnB,EAAvBmB,mBAEhC7C,EAASnB,IAATmB,KAEH4B,EAAe,SAAAP,GAAI,OAAI,SAAAS,GACzBH,EAAU,2BAAKD,GAAN,gBAAcF,OAAO,GAAQH,EAAOS,EAAMC,OAAOF,WAKxDG,EAAc,SAAAF,GAChBA,EAAMG,iBACNN,EAAU,2BAAKD,GAAN,IAAcF,OAAO,EAAOoB,SAAS,KLRhC,SAAA5C,GAClB,OAAOK,MAAM,GAAD,OAAI1B,EAAJ,WAAkB,CACtB2B,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMnD,KAAKoD,UAAUrC,KAExB3B,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MKJhBmC,CAAO,CAAExB,QAAOC,aAAYlD,MAAK,SAAAkE,GACzBA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,MAAOoB,SAAS,KLiBvC,SAACL,EAAMpC,GACT,qBAAXrB,SACPC,aAAagE,QAAQ,MAAO9D,KAAKoD,UAAUE,IAC3CpC,KKlBQ6C,CAAaT,GAAM,WACfZ,EAAU,2BACHD,GADE,IAELmB,oBAAoB,YA4DxC,OACI,eAAC9B,EAAD,CAAQC,MAAM,SAASC,YAAY,mCAAnC,UAjBJ2B,GACI,qBAAKlD,UAAU,mBAAf,SACI,8CAXJ,qBACIA,UAAU,qBACVE,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAFnC,SAIKA,IA/BL,iCACI,sBAAK9B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBACI+C,SAAUb,EAAa,SACvBc,KAAK,QACLhD,UAAU,eACVmC,MAAOP,OAIf,sBAAK5B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBACI+C,SAAUb,EAAa,YACvBc,KAAK,WACLhD,UAAU,eACVmC,MAAON,OAGf,wBAAQrB,QAAS8B,EAAatC,UAAU,kBAAxC,uBAsBa,WACjB,GAAImD,EACA,OAAI7C,GAAsB,IAAdA,EAAKC,KACN,cAAC,IAAD,CAAUN,GAAG,qBAEb,cAAC,IAAD,CAAUA,GAAG,oBAWvBsD,O,iBClGAC,EAAc,SAAAC,GACvB,OAAO9C,MAAM,GAAD,OAAI1B,EAAJ,4BAA2BwE,EAA3B,uBAAwD,CAC5D7C,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OAGrByC,EAAgB,WACzB,OAAO/C,MAAM,GAAD,OAAI1B,EAAJ,eAAsB,CAC1B2B,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OAGrB0C,EAAsB,SAACC,EAAMC,GAAyB,IAAlBC,EAAiB,uDAAP,GACjDjB,EAAO,CACTgB,QACAD,OACAE,WAEJ,OAAOnD,MAAM,GAAD,OAAI1B,EAAJ,uBAA8B,CAClC2B,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMnD,KAAKoD,UAAUE,KAExBlE,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GACHH,QAAQC,IAAIE,OCzBT8C,EAbG,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,IACvB,OACI,qBAAKjE,UAAU,cAAf,SACA,qBACIkE,IAAG,UAAKjF,EAAL,YAAYgF,EAAZ,kBAAyBD,EAAKG,KACjCC,IAAKJ,EAAKrC,KACV3B,UAAU,OACVE,MAAO,CAAEmE,UAAW,OAAQC,SAAU,a,iBC+GnCC,EAjHF,SAAC,GAMY,IAiCLC,EAvCJC,EAMQ,EANRA,QAMQ,IALrBC,6BAKqB,aAJrBC,2BAIqB,aAHrBC,kBAGqB,aAFrBC,+BAEqB,aADrBC,cACqB,MADZ,SAAAC,GAAC,OAAIA,GACO,MAArBC,WAAqB,WAAfC,EAAe,EACjB,EAAgCvD,oBAAS,GAAzC,mBAAOwD,EAAP,KAAiBC,EAAjB,KACA,EAA0BzD,mBAAS+C,EAAQW,OAA3C,mBAAOA,EAAP,KAAcC,EAAd,KAWMC,EAAY,YN3BH,WAA0C,IAAzCtB,EAAwC,uDAAjC,GAAevD,EAAkB,uDAAX,SAAAsE,GAAC,OAAIA,GAClDQ,EAAO,GACW,qBAAXnG,SACHC,aAAaC,QAAQ,UACrBiG,EAAOhG,KAAKC,MAAMH,aAAaC,QAAQ,UAE3CiG,EAAKpE,KAAL,2BACO6C,GADP,IAEIoB,MAAO,KAYXG,EAAOC,MAAMC,KAAK,IAAIC,IAAIH,EAAKI,KAAI,SAAAC,GAAC,OAAIA,EAAEzB,SAAOwB,KAAI,SAAAE,GACjD,OAAON,EAAKO,MAAK,SAAAF,GAAC,OAAIA,EAAEzB,MAAQ0B,QAGpCxG,aAAagE,QAAQ,OAAQ9D,KAAKoD,UAAU4C,IAC5C9E,KMIEsF,CAAQtB,EAASU,GAAY,KA6B/BjD,EAAe,SAAA8D,GAAS,OAAI,SAAA5D,GAChC0C,GAAQE,GACRK,EAASjD,EAAMC,OAAOF,MAAQ,EAAI,EAAIC,EAAMC,OAAOF,OAC/CC,EAAMC,OAAOF,OAAS,GNdJ,SAAC6D,EAAWZ,GAClC,IAAIG,EAAO,GACW,qBAAXnG,SACHC,aAAaC,QAAQ,UACrBiG,EAAOhG,KAAKC,MAAMH,aAAaC,QAAQ,UAG3CiG,EAAKI,KAAI,SAAClB,EAASwB,GACXxB,EAAQN,MAAQ6B,IAChBT,EAAKU,GAAGb,MAAQA,MAIxB/F,aAAagE,QAAQ,OAAQ9D,KAAKoD,UAAU4C,KME9CW,CAAWF,EAAW5D,EAAMC,OAAOF,SAkCvC,OACE,sBAAKnC,UAAU,QAAf,UACE,qBAAKA,UAAU,6BAAf,SAA6CyE,EAAQ9C,OACrD,sBAAK3B,UAAU,YAAf,UAnEyB,SAAAkF,GACrB,GAAIA,EACF,OAAO,cAAC,IAAD,CAAUjF,GAAG,UAkEvBkG,CAAejB,GAChB,cAAC,EAAD,CAAWlB,KAAMS,EAASR,IAAI,YAC9B,oBAAGjE,UAAU,eAAb,UAA6ByE,EAAQlD,YAAY6E,UAAU,EAAG,KAA9D,OACA,oBAAGpG,UAAU,kBAAb,UAA+B,cAAC,IAAD,CAAiBG,KAAMkG,MAAtD,IAAsE5B,EAAQ6B,SAC9E,oBAAGtG,UAAU,UAAb,uBAAkCyE,EAAQ8B,UAAY9B,EAAQ8B,SAAS5E,QACvE,oBAAG3B,UAAU,UAAb,sBAAiCwG,IAAO/B,EAAQgC,WAAWC,cA1D9ClC,EA2DFC,EAAQD,SAzDrB,8BACGA,EAAW,EAAI,mBAAGtE,MAAO,CAACyG,gBAAgB,QAA3B,sBAEd,mBAAGzG,MAAO,CAACyG,gBAAgB,QAA3B,6BAuDF,uBAzFuB,SAAAjC,GACrB,OACEA,GACE,cAAC,IAAD,CAAMzE,GAAE,mBAAcwE,EAAQN,KAAOnE,UAAU,OAA/C,SACE,wBAAQA,UAAU,+CAAlB,4BAuFP4G,CAAelC,GAvES,SAAAC,GACvB,OACEA,GACE,wBAAQnE,QAAS8E,EAAWtF,UAAU,iDAAtC,yBAsEL6G,CAAiBlC,GA/BC,SAAAE,GACvB,OACEA,GACE,wBACErE,QAAS,YNpBO,SAAAwF,GACtB,IAAIT,EAAO,GACW,qBAAXnG,SACHC,aAAaC,QAAQ,UACrBiG,EAAOhG,KAAKC,MAAMH,aAAaC,QAAQ,UAG3CiG,EAAKI,KAAI,SAAClB,EAASwB,GACXxB,EAAQN,MAAQ6B,GAChBT,EAAKuB,OAAOb,EAAG,MAIvB5G,aAAagE,QAAQ,OAAQ9D,KAAKoD,UAAU4C,KMQxC7E,CAAW+D,EAAQN,KACnBW,GAAQE,IAEVhF,UAAU,mCALZ,4BA8BC+G,CAAiBlC,GA/CM,SAAAD,GAC5B,OACEA,GACE,8BACE,sBAAK5E,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,+BAEF,uBAAOgD,KAAK,SAAShD,UAAU,eAAemC,MAAOiD,EAAOrC,SAAUb,EAAauC,EAAQN,YAyC9F6C,CAAsBpC,UCAhBqC,EA/GA,WACb,MAAwBvF,mBAAS,CAC/BwF,WAAY,GACZX,SAAU,GACVY,OAAQ,GACRC,QAAS,GACTC,UAAU,IALZ,mBAAOxE,EAAP,KAAayE,EAAb,KAQQJ,EAAoDrE,EAApDqE,WAAYX,EAAwC1D,EAAxC0D,SAAUY,EAA8BtE,EAA9BsE,OAAQC,EAAsBvE,EAAtBuE,QAASC,EAAaxE,EAAbwE,SAY/CE,qBAAU,WATR7D,IAAgB/E,MAAK,SAACkE,GAChBA,EAAKf,MACPhB,QAAQC,IAAI8B,EAAKf,OAEjBwF,EAAQ,2BAAKzE,GAAN,IAAYqE,WAAYrE,UAOlC,IAEH,IAAM2E,EAAa,WAEbL,GHcY,SAAAM,GAChB,IAAMC,EAAQC,IAAYhF,UAAU8E,GAEpC,OADA3G,QAAQC,IAAI,QAAS2G,GACd/G,MAAM,GAAD,OAAI1B,EAAJ,4BAA2ByI,GAAS,CACxC9G,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MGtB5B2G,CAAK,CAAET,OAAQA,QAAUlC,EAAWsB,SAAUA,IAAY5H,MACxD,SAACkC,GACKA,EAASiB,MACXhB,QAAQC,IAAIF,EAASiB,OAErBwF,EAAQ,2BAAKzE,GAAN,IAAYuE,QAASvG,EAAUwG,UAAU,SAOpDQ,EAAe,SAACC,GACpBA,EAAEvF,iBACFiF,KAGItF,EAAe,SAACP,GAAD,OAAU,SAACS,GAAW,IAAD,EACxCkF,EAAQ,2BAAKzE,GAAN,uBAAalB,EAAOS,EAAMC,OAAOF,OAAjC,0BAAkD,GAAlD,OAGH4F,EAAgB,SAACV,EAAUD,GAC/B,OAAIC,GAAYD,EAAQ/G,OAAS,EACzB,SAAN,OAAgB+G,EAAQ/G,OAAxB,aAEEgH,GAAYD,EAAQ/G,OAAS,EACzB,yBADR,GAkDF,OACE,sBAAKL,UAAU,MAAf,UACE,qBAAKA,UAAU,iBAAf,SA9BF,sBAAMgI,SAAUH,EAAhB,SACE,uBAAM7H,UAAU,mBAAhB,UACE,sBAAKA,UAAU,6BAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,yBAAQA,UAAU,WAAW+C,SAAUb,EAAa,YAApD,UACE,wBAAQC,MAAM,MAAd,iBACC+E,EAAWvB,KAAI,SAACsC,EAAGhC,GAAJ,OACd,wBAAgB9D,MAAO8F,EAAE9D,IAAzB,SACG8D,EAAEtG,MADQsE,WAOnB,uBACEjD,KAAK,SACLhD,UAAU,eACV+C,SAAUb,EAAa,UACvBgG,YAAY,sBAGhB,qBAAKlI,UAAU,yBAAyBE,MAAO,CAAEiI,OAAQ,QAAzD,SACE,wBAAQnI,UAAU,mBAAlB,6BASJ,qBAAKA,UAAU,uBAAf,SAhDqB,WAAmB,IAAlBoH,EAAiB,uDAAP,GAClC,OACE,gCACE,oBAAIpH,UAAU,YAAd,SAA2B+H,EAAcV,EAAUD,KAEnD,qBAAKpH,UAAU,MAAf,SACGoH,EAAQzB,KAAI,SAAClB,EAASwB,GAAV,OACX,qBAAKjG,UAAU,aAAf,SACE,cAAC,EAAD,CAAcyE,QAASA,GAAZwB,aAwCoBmC,CAAiBhB,SCzG/C,SAASiB,IACpB,MAA4C3G,mBAAS,IAArD,mBAAO4G,EAAP,KAAuBC,EAAvB,KACA,EAAkD7G,mBAAS,IAA3D,mBAAO8G,EAAP,KAA0BC,EAA1B,KACA,EAA0B/G,oBAAS,GAAnC,mBAAcgH,GAAd,WAGAnB,qBAAU,WACNoB,IACAC,MACD,IAGH,IAAMA,EAAqB,WACvBpF,EAAY,QAAQ7E,MAAK,SAAAkE,GACjBA,EAAKf,MACL4G,EAAS7F,EAAKf,OAEdyG,EAAkB1F,OAKxB8F,EAAwB,WAC1BnF,EAAY,aAAa7E,MAAK,SAAAkE,GAC1B/B,QAAQC,IAAI8B,GACRA,EAAKf,MACL4G,EAAS7F,EAAKf,OAEd2G,EAAqB5F,OAKjC,OACI,eAACxB,EAAD,CACIC,MAAM,6CACNC,YAAY,4BACZvB,UAAU,kBAHd,UAKK,cAAC,EAAD,IACD,oBAAIA,UAAU,OAAd,0BACA,qBAAKA,UAAU,MAAf,SACKwI,EAAkB7C,KAAI,SAAClB,EAASwB,GAAV,OACnB,qBAAajG,UAAU,aAAvB,SACI,cAAC,EAAD,CAAMyE,QAASA,KADTwB,QAMlB,oBAAIjG,UAAU,OAAd,0BACA,qBAAKA,UAAU,MAAf,SACKsI,EAAe3C,KAAI,SAAClB,EAASwB,GAAV,OAChB,qBAAajG,UAAU,aAAvB,SACI,cAAC,EAAD,CAAMyE,QAASA,KADTwB,W,YCrDf,SAAS4C,EAAT,GAAsD,IAArBC,EAAoB,EAA9BC,UAAuBC,EAAO,6BAChE,OACI,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OAAQ,SAAAC,GAAK,OAAE/J,IAC5B,cAAC2J,EAAD,eAAeI,IAGjB,cAAC,IAAD,CAAUjJ,GAAI,CAACJ,SAAS,UAAUsJ,MAAM,CAAC1D,KAAKyD,EAAMtJ,iBCRvD,IC6HQwJ,EAxHO,WAClB,MAA8B1H,mBAAS,IAAvC,mBAAOhC,EAAP,KAAgB2J,EAAhB,KAGA,EAEIlK,IADAmB,KAAQ6D,EADZ,EACYA,IAAKxC,EADjB,EACiBA,KAAMC,EADvB,EACuBA,MAAOrB,EAD9B,EAC8BA,KAExB+I,EAAQnK,IAAkBmK,MAE1BC,EAAO,SAACC,EAAQF,ID4BQ,SAACE,EAAQF,GACvC,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,2BAA0BuK,GAAU,CACxC5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OCvC1ByI,CAAmBF,EAAQF,GAAO3K,MAAK,SAAAkE,GAC/BA,EAAKf,MACLhB,QAAQC,IAAI8B,EAAKf,OAEjBuH,EAAWxG,OAKvB0E,qBAAU,WACNgC,EAAKpF,EAAKmF,KACX,IAyEH,OACI,eAACjI,EAAD,CAAQC,MAAM,YAAYC,YAAW,gBAAWI,EAAX,KACrC3B,UAAU,kBADV,UAGM,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SA1EJ,sBAAKA,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,wBACA,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,QAA9B,uBAIJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAE,mBAAckE,GAA3C,sCAkER,sBAAKnE,UAAU,QAAf,UAvDJ,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,cAAd,8BACA,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,kBAAd,SAAiC2B,IACjC,oBAAI3B,UAAU,kBAAd,SAAiC4B,IACjC,oBAAI5B,UAAU,kBAAd,SACc,IAATO,EAAa,QAAU,0BAQpB,SAAAb,GACpB,OACI,sBAAKM,UAAU,YAAf,UACI,oBAAIA,UAAU,cAAd,8BACA,oBAAIA,UAAU,aAAd,SACI,oBAAIA,UAAU,kBAAd,SACKN,EAAQiG,KAAI,SAACgE,EAAG1D,GACb,OACI,gCACI,uBACC0D,EAAEC,SAASjE,KAAI,SAACC,EAAGK,GAChB,OACI,gCACI,gDAAmBL,EAAEjE,QACrB,kDACqBiE,EAAEU,SAEvB,iDACoB,IACfE,IACGZ,EAAEa,WACJC,eATAT,mBA+BjC4D,CAAgBnK,SAIzB,sBAAKM,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,8BAEA,oBAAIA,UAAU,aAAd,SACI,oBAAIA,UAAU,kBAAd,8BChHL,SAAS8J,IAEpB,MAEI3K,IADAmB,KAAaqB,GADjB,EACYwC,IADZ,EACiBxC,MAAMC,EADvB,EACuBA,MAAOrB,EAD9B,EAC8BA,KAkD9B,OACI,cAACc,EAAD,CACAC,MAAM,YACNC,YAAW,gBAAWI,EAAX,KACX3B,UAAU,kBAHV,SAKA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SAnDA,sBAAKA,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,yBACA,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,mBAA9B,+BAIJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,kBAA9B,8BAIJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,gBAA9B,2BAIJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,WAAWC,GAAG,kBAA9B,uCAiCZ,qBAAKD,UAAU,QAAf,SArBA,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,cAAd,8BACA,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,kBAAd,SAAiC2B,IACjC,oBAAI3B,UAAU,kBAAd,SAAiC4B,IACjC,oBAAI5B,UAAU,kBAAd,SACc,IAATO,EAAa,QAAU,iCC/ChD,IAWewJ,EAXI,SAAC,GAAmC,IAAxBjB,EAAuB,EAAjCC,UAAuBC,EAAU,6BAClD,OACI,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OAAQ,SAAAC,GAAK,OAAE/J,KAAmD,IAA9BA,IAAkBmB,KAAKC,KACxE,cAACuI,EAAD,eAAeI,IAGjB,cAAC,IAAD,CAAUjJ,GAAI,CAACJ,SAAS,IAAIsJ,MAAM,CAAC1D,KAAKyD,EAAMtJ,kBCqG3C8D,EAAgB,WACzB,OAAO/C,MAAM,GAAD,OAAI1B,EAAJ,eAAsB,CAC1B2B,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OC9BnB+I,EAnFK,WAEhB,MAAwBtI,mBAAS,IAAjC,mBAAOC,EAAP,KAAasI,EAAb,KACA,EAA0BvI,oBAAS,GAAnC,mBAAOI,EAAP,KAAc4G,EAAd,KACA,EAA8BhH,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBmI,EAAhB,KAGA,EAAwB/K,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAERpH,EAAe,SAAA4F,GACjBY,EAAS,IACTuB,EAAQnC,EAAEzF,OAAOF,QAGfG,EAAc,SAAAwF,GAChBA,EAAEvF,iBACFmG,EAAS,IACTwB,GAAW,GDpBW,SAACV,EAAQF,EAAO/C,GAC1C,OAAO5F,MAAM,GAAD,OAAI1B,EAAJ,4BAA2BuK,GAAU,CACzC5I,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAU4D,KAExB5H,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MCQhBkJ,CAAe7J,EAAK6D,IAAKmF,EAAO,CAAE3H,SAAQhD,MAAK,SAAAkE,GACvCA,EAAKf,MACL4G,EAAS7F,EAAKf,QAEd4G,EAAS,IACTwB,GAAW,QA0CvB,OACI,cAAC7I,EAAD,CACAC,MAAM,qBACNC,YAAW,gBAAWjB,EAAKqB,KAAhB,kCAFX,SAIA,qBAAK3B,UAAU,MAAf,SACI,sBAAKA,UAAU,uBAAf,UA1BY,WAChB,GAAI+B,EACA,OAAO,qBAAI/B,UAAU,eAAd,UAA8B2B,EAA9B,iBAyBFyI,GArBK,WACd,GAAItI,EACA,OAAO,oBAAI9B,UAAU,cAAd,uCAoBFqK,GA5CT,uBAAMrC,SAAU1F,EAAhB,UACI,sBAAKtC,UAAU,kBAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBACIgD,KAAK,OACLhD,UAAU,eACV+C,SAAUb,EACVC,MAAOR,EACP2I,WAAS,EACTC,UAAQ,OAGhB,wBAAQvK,UAAU,0BAAlB,gCAiBJ,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMC,GAAG,mBAAmBD,UAAU,eAAtC,yCC6GGwK,EA1KI,WAEf,MAA4B9I,mBAAS,CACjCC,KAAM,GACNJ,YAAa,GACb+E,MAAO,GACPY,WAAY,GACZX,SAAU,GACVkE,SAAU,GACVjG,SAAU,GACVkG,MAAO,GACPxH,SAAS,EACTpB,MAAO,GACP6I,eAAgB,GAChBC,mBAAmB,EACnBC,SAAU,KAbd,mBAAO7I,EAAP,KAAeC,EAAf,KAgBA,EAAwB9C,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAEV3H,EAYAK,EAZAL,KACAJ,EAWAS,EAXAT,YACA+E,EAUAtE,EAVAsE,MACAY,EASAlF,EATAkF,WAGA1C,GAMAxC,EARAuE,SAQAvE,EAPAyI,SAOAzI,EANAwC,UACAtB,EAKAlB,EALAkB,QACApB,EAIAE,EAJAF,MACA6I,EAGA3I,EAHA2I,eAEAE,GACA7I,EAFA4I,kBAEA5I,EADA6I,UAkBJtD,qBAAU,WAbN7D,IAAgB/E,MAAK,SAAAkE,GACbA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAEnCG,EAAU,2BACHD,GADE,IAELkF,WAAYrE,EACZgI,SAAU,IAAIC,iBAQ3B,IAEH,IAAM5I,EAAe,SAAAP,GAAI,OAAI,SAAAS,GACzB,IAAMD,EAAiB,UAATR,EAAmBS,EAAMC,OAAO0I,MAAM,GAAK3I,EAAMC,OAAOF,MACtE0I,EAASG,IAAIrJ,EAAMQ,GACnBF,EAAU,2BAAKD,GAAN,kBAAeL,EAAOQ,OAG7BG,EAAc,SAAAF,GAChBA,EAAMG,iBACNN,EAAU,2BAAKD,GAAN,IAAcF,MAAO,GAAIoB,SAAS,KF4BtB,SAACsG,EAAQF,EAAO7E,GACzC,OAAO9D,MAAM,GAAD,OAAI1B,EAAJ,2BAA0BuK,GAAU,CACxC5I,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACRgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAM+B,IAET9F,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GACHH,QAAQC,IAAIE,MEvChBgK,CAAc3K,EAAK6D,IAAKmF,EAAOuB,GAAUlM,MAAK,SAAAkE,GACtCA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAEnCG,EAAU,2BACHD,GADE,IAELL,KAAM,GACNJ,YAAa,GACbmJ,MAAO,GACPpE,MAAO,GACPxE,MAAM,GACNoB,SAAS,EACTyH,eAAgB9H,EAAKlB,YAiFrC,OACI,cAACN,EAAD,CAAQC,MAAM,oBAAoBC,YAAW,gBAAWjB,EAAKqB,KAAhB,iCAA7C,SACA,qBAAK3B,UAAU,MAAf,SACI,sBAAKA,UAAU,uBAAf,UATRkD,GACI,qBAAKlD,UAAU,sBAAf,SACI,8CARJ,qBAAKA,UAAU,mBAAmBE,MAAO,CAAE4C,QAAS6H,EAAiB,GAAK,QAA1E,SACI,yCAAQA,GAAR,oBAPJ,qBAAK3K,UAAU,qBAAqBE,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAAnE,SACKA,IAxDL,uBAAM9B,UAAU,OAAOgI,SAAU1F,EAAjC,UACI,4CACA,qBAAKtC,UAAU,aAAf,SACI,uBAAOA,UAAU,oBAAjB,SACI,uBAAO+C,SAAUb,EAAa,SAAUc,KAAK,OAAOrB,KAAK,QAAQuJ,OAAO,gBAIhF,sBAAKlL,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAO+C,SAAUb,EAAa,QAASc,KAAK,OAAOhD,UAAU,eAAemC,MAAOR,OAGvF,sBAAK3B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,yBACA,0BAAU+C,SAAUb,EAAa,eAAgBlC,UAAU,eAAemC,MAAOZ,OAGrF,sBAAKvB,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAO+C,SAAUb,EAAa,SAAUc,KAAK,SAAShD,UAAU,eAAemC,MAAOmE,OAG1F,sBAAKtG,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,yBAAQ+C,SAAUb,EAAa,YAAalC,UAAU,eAAtD,UACI,mDACCkH,GACGA,EAAWvB,KAAI,SAACsC,EAAGhC,GAAJ,OACX,wBAAgB9D,MAAO8F,EAAE9D,IAAzB,SACK8D,EAAEtG,MADMsE,YAO7B,sBAAKjG,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,yBAAQ+C,SAAUb,EAAa,YAAalC,UAAU,eAAtD,UACI,mDACA,wBAAQmC,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,uBAIR,sBAAKnC,UAAU,kBAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAO+C,SAAUb,EAAa,YAAac,KAAK,SAAShD,UAAU,eAAemC,MAAOqC,OAG7F,wBAAQxE,UAAU,0BAAlB,uC,QCrGGmL,EAlCE,SAAC,GAAgC,IAA/BjE,EAA8B,EAA9BA,WAAWkE,EAAmB,EAAnBA,cAE1B,EAA6B1J,mBAAS,IAAtC,mBAAO2J,EAAP,KAAgBC,EAAhB,KAEMC,EAAe,SAAAtD,GAAC,OAAI,WAEtB,IAAMuD,EAAoBH,EAAQI,QAAQxD,GACpCyD,EAAoB,YAAOL,IAGN,IAAvBG,EACAE,EAAqBvK,KAAK8G,GAE1ByD,EAAqB5E,OAAO0E,EAAmB,GAGnDF,EAAUI,GACTN,EAAcM,KAInB,OAAOxE,EAAWvB,KAAI,SAACsC,EAAGhC,GAAJ,OAClB,qBAAYjG,UAAU,gBAAtB,UACI,uBAAOE,MAAO,CAACyL,YAAY,IACzBxJ,MAAOkJ,EAAQI,SAAmB,IAAXxD,EAAE9D,KACvBpB,SAAUwI,EAAatD,EAAE9D,KACzBnB,KAAK,WACLhD,UAAU,qBAEd,uBAAOA,UAAU,mBAAjB,SAAqCiI,EAAEtG,SAPlCsE,OCxBJ2F,EAAS,CAAC,CACfzH,IAAK,EACLxC,KAAM,MACNkK,MAAO,IAEX,CACI1H,IAAK,EACLxC,KAAM,WACNkK,MAAO,CAAC,EAAG,IAEf,CACI1H,IAAK,EACLxC,KAAM,aACNkK,MAAO,CAAC,GAAI,KAEhB,CACI1H,IAAK,EACLxC,KAAM,aACNkK,MAAO,CAAC,GAAI,KAEhB,CACI1H,IAAK,EACLxC,KAAM,aACNkK,MAAO,CAAC,GAAI,KAEhB,CACI1H,IAAK,EACLxC,KAAM,gBACNkK,MAAO,CAAC,GAAI,MCCLC,EAzBE,SAAC,GAA+B,IAA7BF,EAA4B,EAA5BA,OAAQR,EAAoB,EAApBA,cAC1B,EAA0B1J,mBAAS,GAAnC,mBAAcqK,GAAd,WAEM7J,EAAe,SAACE,GACpBgJ,EAAchJ,EAAMC,OAAOF,OAC3B4J,EAAS3J,EAAMC,OAAOF,QAGxB,OAAOyJ,EAAOjG,KAAI,SAACC,EAAGK,GAAJ,OAChB,gCACE,uBACElD,SAAUb,EACVC,MAAK,UAAKyD,EAAEzB,KACZxC,KAAMiE,EACN5C,KAAK,QACLhD,UAAU,cAEZ,wBAAOA,UAAU,mBAAjB,UACI4F,EAAEjE,KAAM,SATJsE,OC+HC+F,EApIF,WACX,MAAkCtK,mBAAS,CACzCoC,QAAS,CAAEyC,SAAU,GAAID,MAAO,MADlC,mBAAO2F,EAAP,KAAkBC,EAAlB,KAIA,EAAoCxK,mBAAS,IAA7C,mBAAOwF,EAAP,KAAmBiF,EAAnB,KACA,EAA0BzK,oBAAS,GAAnC,mBAAcgH,GAAd,WACA,EAA0BhH,mBAAS,GAAnC,mBAAOmC,EAAP,KACA,GADA,KACwBnC,mBAAS,IAAjC,mBAAOkC,EAAP,KAAawI,EAAb,KACA,EAAwB1K,mBAAS,GAAjC,mBAAO2K,EAAP,KAAaC,EAAb,KACA,EAA8C5K,mBAAS,IAAvD,mBAAO6K,EAAP,KAAwBC,EAAxB,KAYMpB,EAAgB,SAACtH,EAAS2I,GAG9B,IAAMC,EAAU,eAAQT,GAGxB,GAFAS,EAAW5I,QAAQ2I,GAAY3I,EAEd,UAAb2I,EAAsB,CACxB,IAAIE,EAAcC,EAAY9I,GAC9B4I,EAAW5I,QAAQ2I,GAAYE,EAEjCE,EAAoBZ,EAAUnI,SAC9BoI,EAAaQ,IAGTG,EAAsB,SAACH,GAE3B/I,EAAoBC,EAAMC,EAAO6I,GAAY/N,MAAK,SAACkE,GAC7CA,EAAKf,MACP4G,EAAS7F,EAAKf,QAEd0K,EAAmB3J,EAAKA,MACxByJ,EAAQzJ,EAAKwJ,MACbD,EAAQ,QAKRQ,EAAc,SAACzK,GACnB,IAAMU,EAAO+I,EACTC,EAAQ,GAEZ,IAAK,IAAIiB,KAAOjK,EACVA,EAAKiK,GAAK3I,MAAQ4I,SAAS5K,KAC7B0J,EAAQhJ,EAAKiK,GAAKjB,OAGtB,OAAOA,GAGHmB,EAAW,WACf,IAAIC,EAASrJ,EAAOC,EAEpBF,EAAoBsJ,EAAQpJ,EAAOoI,EAAUnI,SAASnF,MAAK,SAACkE,GACtDA,EAAKf,MACP4G,EAAS7F,EAAKf,QAEd0K,EAAmB,GAAD,mBAAKD,GAAL,YAAyB1J,EAAKA,QAChDyJ,EAAQzJ,EAAKwJ,MACbD,EAAQa,QAqBd,OALA1F,qBAAU,WAzER7D,IAAgB/E,MAAK,SAACkE,GAChBA,EAAKf,MACP4G,EAAS7F,EAAKf,OAEdqK,EAActJ,QAwEjB,IAGD,cAACxB,EAAD,CACEC,MAAM,YACNC,YAAY,uCACZvB,UAAU,kBAHZ,SAKE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,sDACA,6BACE,cAAC,EAAD,CACEkH,WAAYA,EACZkE,cAAe,SAACtH,GAAD,OAAasH,EAActH,EAAS,iBAGvD,uDACA,8BACE,cAAC,EAAD,CACE8H,OAAQA,EACRR,cAAe,SAACtH,GAAD,OAAasH,EAActH,EAAS,iBAKzD,sBAAK9D,UAAU,QAAf,UACE,oBAAIA,UAAU,OAAd,sBACA,qBAAKA,UAAU,MAAf,SACGuM,EAAgB5G,KAAI,SAAClB,EAASwB,GAAV,OACnB,qBAAajG,UAAU,aAAvB,SACE,cAAC,EAAD,CAAMyE,QAASA,KADPwB,QAKd,uBA/CJoG,EAAO,GACPA,GAAQxI,GACN,wBAAQrD,QAASwM,EAAUhN,UAAU,uBAArC,gCC3BOkN,EAvDC,SAAChE,GACb,MAA8BxH,mBAAS,IAAvC,mBAAO+C,EAAP,KAAgB0I,EAAhB,KACA,EAA4CzL,mBAAS,IAArD,mBAAO0L,EAAP,KAAuBC,EAAvB,KACA,EAA0B3L,oBAAS,GAAnC,mBAAcgH,GAAd,WAIM4E,EAAoB,SAAAtH,IjB6CV,SAAAA,GAChB,OAAOrF,MAAM,GAAD,OAAI1B,EAAJ,oBAAmB+G,GAAa,CACpCpF,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OiBnD1BsM,CAAKvH,GAAWrH,MAAK,SAAAkE,GACbA,EAAKf,MACL4G,EAAS7F,EAAKf,QAEdqL,EAAWtK,GjBkDA,SAAAmD,GACvB,OAAOrF,MAAM,GAAD,OAAI1B,EAAJ,6BAA4B+G,GAAa,CAC7CpF,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MiBvDlBuM,CAAY3K,EAAKsB,KAAKxF,MAAK,SAAAkE,GACnBA,EAAKf,MACL4G,EAAS7F,EAAKf,OAEduL,EAAkBxK,WAatC,OANA0E,qBAAU,WACN,IAAMvB,EAAYkD,EAAMuE,MAAMhG,OAAOzB,UACrCsH,EAAkBtH,KACnB,CAACkD,IAIA,cAAC7H,EAAD,CACAC,MAAOmD,GAAWA,EAAQ9C,KAC1BJ,YAAakD,GAAWA,EAAQlD,aAAekD,EAAQlD,YAAY6E,UAAU,EAAG,KAChFpG,UAAU,kBAHV,SAKA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACKyE,GAAWA,EAAQlD,aAAe,cAAC,EAAD,CAAMkD,QAASA,EAASC,uBAAuB,MAGtF,sBAAK1E,UAAU,QAAf,UACI,kDACCoN,EAAezH,KAAI,SAACC,EAAGK,GAAJ,OAChB,qBAAKjG,UAAU,OAAf,SACI,cAAC,EAAD,CAAMyE,QAASmB,KADQK,e,iBCmIhCyH,EA5KE,SAAC,GAAoD,IAAlD9D,EAAiD,EAAjDA,SAAiD,IAAvC9E,cAAuC,MAA9B,SAAAC,GAAC,OAAIA,GAAyB,MAAtBC,WAAsB,WAAhBC,EAAgB,EACjE,EAAwBvD,mBAAS,CAC7BwB,SAAS,EACTnB,SAAS,EACT4L,YAAa,KACb7L,MAAO,GACP8L,SAAU,GACVC,QAAS,KANb,mBAAOhL,EAAP,KAAayE,EAAb,KASMkC,EAASrK,KAAqBA,IAAkBmB,KAAK6D,IACrDmF,EAAQnK,KAAqBA,IAAkBmK,MAE/CwE,EAAW,SAACtE,EAAQF,IlBuDS,SAACE,EAAQF,GAC5C,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,+BAA8BuK,GAAU,CAC5C5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OkBlE1B8M,CAAwBvE,EAAQF,GAAO3K,MAAK,SAAAkE,GACpCA,EAAKf,OACLhB,QAAQC,IAAI8B,EAAKf,OACjBwF,EAAQ,2BAAKzE,GAAN,IAAYf,MAAOe,EAAKf,WAE/BhB,QAAQC,IAAI8B,GACZyE,EAAQ,CAAEqG,YAAa9K,EAAK8K,mBAKxCpG,qBAAU,WACNuG,EAAStE,EAAQF,KAClB,IAEH,IAsHkBxH,EAMEC,EAMAmB,EAlId8K,EAAgB,SAAA5L,GAClBkF,EAAQ,2BAAKzE,GAAN,IAAYgL,QAASzL,EAAMC,OAAOF,UAGvC8L,EAAW,WACb,OAAOrE,EAASsE,QAAO,SAACC,EAAcC,GAClC,OAAOD,EAAeC,EAAUhJ,MAAQgJ,EAAU9H,QACnD,IAaH+H,EAAkBxL,EAAKgL,QAErBS,EAAM,WACRhH,EAAQ,CAAEpE,SAAS,IAIJL,EAAK+K,SACfW,uBACA5P,MAAK,SAAAkE,GAUF,IAAM2L,EAAc,CAChBC,mBATI5L,EAAK6L,MAUTC,OAAQV,MlBaE,SAACzE,EAAQF,EAAOkF,GAC1C,OAAO7N,MAAM,GAAD,OAAI1B,EAAJ,8BAA6BuK,GAAU,CAC3C5I,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAU6L,KAExB7P,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OkBvBlB2N,CAAepF,EAAQF,EAAOkF,GACzB7P,MAAK,SAAAkC,GACFC,QAAQC,IAAIF,GAIZ,IAAMgO,EAAkB,CACpBjF,SAAUA,EACVkF,eAAgBjO,EAASkO,YAAYlJ,GACrC8I,OAAQ9N,EAASkO,YAAYJ,OAC7Bd,QAASQ,IlBgBV,SAAC7E,EAAQF,EAAOuF,GACvC,OAAOlO,MAAM,GAAD,OAAI1B,EAAJ,yBAAwBuK,GAAU,CACtC5I,OAAQ,OACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAU,CAAEqM,MAAOH,MAEjClQ,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OkB1BVgO,CAAYzF,EAAQF,EAAOuF,GACtBlQ,MAAK,SAAAkC,GtBdT,IAAAJ,IsBeiB,WACNqE,GAAQE,GACRlE,QAAQC,IAAI,kCACZuG,EAAQ,CACJpE,SAAS,EACTnB,SAAS,KtBnBvB,qBAAX3C,SACPC,aAAaqB,WAAW,QACxBD,QsBqBqBO,OAAM,SAAAc,GACHhB,QAAQC,IAAIe,GACZwF,EAAQ,CAAEpE,SAAS,UAG9BlC,OAAM,SAAAc,GACHhB,QAAQC,IAAIe,GACZwF,EAAQ,CAAEpE,SAAS,UAG9BlC,OAAM,SAAAc,GAEHwF,EAAQ,2BAAKzE,GAAN,IAAYf,MAAOA,EAAMoN,eAItCC,EAAa,kBACf,qBAAKC,OAAQ,kBAAM9H,EAAQ,2BAAKzE,GAAN,IAAYf,MAAO,OAA7C,SAC0B,OAArBe,EAAK8K,aAAwB/D,EAASvJ,OAAS,EAC5C,gCACI,sBAAKL,UAAU,kBAAf,UACI,uBAAOA,UAAU,aAAjB,+BACA,0BACI+C,SAAUiL,EACVhO,UAAU,eACVmC,MAAOU,EAAKgL,QACZ3F,YAAY,0CAIpB,cAAC,IAAD,CACImH,QAAS,CACLC,cAAezM,EAAK8K,YAIpB4B,UAAU,CACNC,KAAM,UAGdC,WAAY,SAAA7B,GAAQ,OAAK/K,EAAK+K,SAAWA,KAE7C,wBAAQpN,QAAS8N,EAAKtO,UAAU,4BAAhC,oBAIJ,QAkBZ,OACI,gCACI,0CAAaiO,QAJD/K,EAKCL,EAAKK,QALKA,GAAW,oBAAIlD,UAAU,cAAd,0BANtB+B,EAYCc,EAAKd,QAXtB,qBAAK/B,UAAU,mBAAmBE,MAAO,CAAE4C,QAASf,EAAU,GAAK,QAAnE,oDAPcD,EAmBCe,EAAKf,MAlBpB,qBAAK9B,UAAU,qBAAqBE,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAAnE,SACKA,KA7GE3C,IACH,8BAAMgQ,MAEN,cAAC,IAAD,CAAMlP,GAAG,UAAT,SACI,wBAAQD,UAAU,kBAAlB,uCCQD0P,EAtDF,WAET,MAA0BhO,mBAAS,IAAnC,mBAAOiO,EAAP,KAAcC,EAAd,KACA,EAAsBlO,oBAAS,GAA/B,mBAAOsD,EAAP,KAAYF,EAAZ,KAEAyC,qBAAU,WACNqI,EvB0BkB,qBAAXxQ,QACHC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,SAGxC,MuB9BJ,CAAC0F,IA4BJ,OACI,cAAC3D,EAAD,CACAC,MAAM,gBACNC,YAAY,oEACZvB,UAAU,kBAHV,SAKA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SAAwB2P,EAAMtP,OAAS,EAjC7B,SAAAsP,GACd,OACI,gCACI,0DAAsBA,EAAMtP,QAA5B,YACA,uBACCsP,EAAMhK,KAAI,SAAClB,EAASwB,GAAV,OACP,cAAC,EAAD,CAEIxB,QAASA,EACTE,qBAAqB,EACrBC,YAAY,EACZC,yBAAyB,EACzBC,OAAQA,EACRE,IAAKA,GANAiB,SA0B0B4J,CAAUF,GAZzD,sDACwB,uBADxB,IAC+B,cAAC,IAAD,CAAM1P,GAAG,QAAT,oCAa3B,sBAAKD,UAAU,QAAf,UACI,oBAAIA,UAAU,OAAd,+BACA,uBACA,cAAC,EAAD,CAAU4J,SAAU+F,EAAO7K,OAAQA,EAAQE,IAAKA,aCmHjD8K,EAlKA,WACX,MAA4BpO,mBAAS,IAArC,mBAAOqO,EAAP,KAAeC,EAAf,KACA,EAAwCtO,mBAAS,IAAjD,mBAAOuO,EAAP,KAAqBC,EAArB,KAEA,EAAwB/Q,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAER6G,EAAa,YViDG,SAAC3G,EAAQF,GAC/B,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,uBAAsBuK,GAAU,CACpC5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACRgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OU3D1BmP,CAAW9P,EAAK6D,IAAKmF,GAAO3K,MAAK,SAAAkE,GACzBA,EAAKf,MACLhB,QAAQC,IAAI8B,EAAKf,OAEjBkO,EAAUnN,OAKhBwN,EAAmB,YVwBE,SAAC7G,EAAQF,GACpC,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,gCAA+BuK,GAAU,CAC7C5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACRgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OUlC1BqP,CAAgBhQ,EAAK6D,IAAKmF,GAAO3K,MAAK,SAAAkE,GAC9BA,EAAKf,MACLhB,QAAQC,IAAI8B,EAAKf,OAEjBoO,EAAgBrN,OAK5B0E,qBAAU,WACN4I,IACAE,MACD,IAEH,IAYME,EAAY,SAACzD,EAAK3K,GAAN,OACd,sBAAKnC,UAAU,2BAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAKA,UAAU,mBAAf,SAAmC8M,MAEvC,uBACI9J,KAAK,OACLb,MAAOA,EACPnC,UAAU,eACVwQ,UAAQ,QAKdC,EAAqB,SAAC3I,EAAG4I,IVYF,SAAClH,EAAQF,EAAOoH,EAASC,GACtD,OAAOhQ,MAAM,GAAD,OAAI1B,EAAJ,kBAAiByR,EAAjB,mBAAmClH,GAAU,CACjD5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAU,CAAEgO,SAAQD,cAElC/R,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OUxB1B2P,CAAkBtQ,EAAK6D,IAAKmF,EAAOoH,EAAS5I,EAAEzF,OAAOF,OAAOxD,MACxD,SAAAkE,GACQA,EAAKf,MACLhB,QAAQC,IAAI,wBAEZoP,QAMVU,EAAa,SAAAC,GAAC,OAChB,sBAAK9Q,UAAU,aAAf,UACI,qBAAIA,UAAU,YAAd,qBAAmC8Q,EAAEH,UACrC,yBACI3Q,UAAU,eACV+C,SAAU,SAAA+E,GAAC,OAAI2I,EAAmB3I,EAAGgJ,EAAE3M,MAF3C,UAII,mDACC8L,EAAatK,KAAI,SAACgL,EAAQI,GAAT,OACd,wBAAoB5O,MAAOwO,EAA3B,SACKA,GADQI,aAQ7B,OACI,cAAC1P,EAAD,CACIC,MAAM,SACNC,YAAW,gBACPjB,EAAKqB,KADE,wCAGX3B,UAAU,kBALd,SAOI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,uBAAf,UA/DJ+P,EAAO1P,OAAS,EAEZ,qBAAIL,UAAU,wBAAd,2BACmB+P,EAAO1P,UAIvB,oBAAIL,UAAU,cAAd,uBA2DE+P,EAAOpK,KAAI,SAACmL,EAAGE,GACZ,OACI,sBACIhR,UAAU,OAEVE,MAAO,CAAE+Q,aAAc,oBAH3B,UAKI,oBAAIjR,UAAU,OAAd,SACI,uBAAMA,UAAU,aAAhB,uBACe8Q,EAAE3M,SAIrB,qBAAInE,UAAU,kBAAd,UACI,oBAAIA,UAAU,kBAAd,SACK6Q,EAAWC,KAEhB,qBAAI9Q,UAAU,kBAAd,6BACqB8Q,EAAEhC,kBAEvB,qBAAI9O,UAAU,kBAAd,sBACc8Q,EAAEnC,UAEhB,qBAAI3O,UAAU,kBAAd,yBACiB8Q,EAAExQ,KAAKqB,QAExB,qBAAI3B,UAAU,kBAAd,wBACgB,IACXwG,IAAOsK,EAAErK,WAAWC,aAEzB,qBAAI1G,UAAU,kBAAd,+BACuB8Q,EAAEjD,cAI7B,qBAAI7N,UAAU,wBAAd,yCACiC,IAC5B8Q,EAAElH,SAASvJ,UAGfyQ,EAAElH,SAASjE,KAAI,SAACC,EAAGsL,GAAJ,OACZ,sBACIlR,UAAU,OAEVE,MAAO,CACHiR,QAAS,OACThJ,OAAQ,oBALhB,UAQKoI,EAAU,eAAgB3K,EAAEjE,MAC5B4O,EAAU,gBAAiB3K,EAAEU,OAC7BiK,EAAU,gBAAiB3K,EAAER,OAC7BmL,EAAU,aAAc3K,EAAEzB,OATtB+M,QAvCRF,cCjBtBI,EAtFC,SAAC,GAAe,IAAb3D,EAAY,EAAZA,MACf,EAA4B/L,mBAAS,CACjCC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,OAAO,EACPC,SAAS,IALb,mBAAOC,EAAP,KAAeC,EAAf,KAQQqH,EAAUnK,IAAVmK,MACA3H,EAA0CK,EAA1CL,KAAMC,EAAoCI,EAApCJ,MAAOC,EAA6BG,EAA7BH,SAAiBE,GAAYC,EAAnBF,MAAmBE,EAAZD,SAEhCwH,EAAO,SAAAC,IfhBG,SAACA,EAAQF,GACzB,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,iBAAgBuK,GAAU,CAC9B5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OeM1BsM,CAAK/D,EAAQF,GAAO3K,MAAK,SAAAkE,GACjBA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,OAAO,KAE9BG,EAAU,2BAAKD,GAAN,IAAcL,KAAMkB,EAAKlB,KAAMC,MAAOiB,EAAKjB,aAKhE2F,qBAAU,WACNgC,EAAKkE,EAAMhG,OAAO+B,UACnB,IAEH,IAAMtH,EAAe,SAAAP,GAAI,OAAI,SAAAmG,GACzB7F,EAAU,2BAAKD,GAAN,gBAAcF,OAAO,GAAQH,EAAOmG,EAAEzF,OAAOF,WAGpDG,EAAc,SAAAwF,GAChBA,EAAEvF,iBfrBY,SAACiH,EAAQF,EAAOhJ,GAClC,OAAOK,MAAM,GAAD,OAAI1B,EAAJ,iBAAgBuK,GAAU,CAC9B5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAUrC,KAExB3B,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MeS1BoQ,CAAO5D,EAAMhG,OAAO+B,OAAQF,EAAO,CAAE3H,OAAMC,QAAOC,aAAYlD,MAAK,SAAAkE,GAC3DA,EAAKf,MAELwP,MAAMzO,EAAKf,OfTD,SAACxB,EAAMG,GAC7B,GAAsB,qBAAXrB,QACHC,aAAaC,QAAQ,OAAQ,CAC7B,IAAIiS,EAAOhS,KAAKC,MAAMH,aAAaC,QAAQ,QAC3CiS,EAAKjR,KAAOA,EACZjB,aAAagE,QAAQ,MAAO9D,KAAKoD,UAAU4O,IAC3C9Q,KeKI+Q,CAAW3O,GAAM,WACbZ,EAAU,2BACHD,GADE,IAELL,KAAMkB,EAAKlB,KACXC,MAAOiB,EAAKjB,MACZG,SAAS,YAkC7B,OACI,eAACV,EAAD,CAAQC,MAAM,UAAUC,YAAY,sBAAsBvB,UAAU,kBAApE,UACI,oBAAIA,UAAU,OAAd,4BAvBc,SAAC2B,EAAMC,EAAOC,GAAd,OAClB,iCACI,sBAAK7B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAOgD,KAAK,OAAOD,SAAUb,EAAa,QAASlC,UAAU,eAAemC,MAAOR,OAEvF,sBAAK3B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAOgD,KAAK,QAAQD,SAAUb,EAAa,SAAUlC,UAAU,eAAemC,MAAOP,OAEzF,sBAAK5B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOgD,KAAK,WAAWD,SAAUb,EAAa,YAAalC,UAAU,eAAemC,MAAON,OAG/F,wBAAQrB,QAAS8B,EAAatC,UAAU,kBAAxC,uBASCyR,CAAc9P,EAAMC,EAAOC,GA9Bf,SAAAE,GACjB,GAAIA,EACA,OAAO,cAAC,IAAD,CAAU9B,GAAG,UA6BnBsD,CAAaxB,OCZX2P,GArEQ,WACnB,MAAgChQ,mBAAS,IAAzC,mBAAOkI,EAAP,KAAiB+H,EAAjB,KAEA,EAAwBxS,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAERsI,EAAe,WZ0HdjR,MAAM,GAAD,OAAI1B,EAAJ,6BAAoC,CACxC2B,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MY/HZtC,MAAK,SAAAkE,GACXA,EAAKf,MACLhB,QAAQC,IAAI8B,EAAKf,OAEjB6P,EAAY9O,OAKlBgP,EAAU,SAAA7L,IZyHS,SAACA,EAAWwD,EAAQF,GAC7C,OAAO3I,MAAM,GAAD,OAAI1B,EAAJ,oBAAmB+G,EAAnB,YAAgCwD,GAAU,CAC9C5I,OAAQ,SACR4B,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChBgH,cAAc,UAAD,OAAYH,MAGhC3K,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OYpI1B6Q,CAAc9L,EAAW1F,EAAK6D,IAAKmF,GAAO3K,MAAK,SAAAkE,GACvCA,EAAKf,MACLhB,QAAQC,IAAI8B,EAAKf,OAEjB8P,QASZ,OAJArK,qBAAU,WACNqK,MACD,IAGC,cAACvQ,EAAD,CACIC,MAAM,kBACNC,YAAY,2BACZvB,UAAU,kBAHd,SAKI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,qBAAIA,UAAU,cAAd,mBACW4J,EAASvJ,OADpB,eAGA,uBACA,oBAAIL,UAAU,aAAd,SACK4J,EAASjE,KAAI,SAACC,EAAGK,GAAJ,OACV,qBAEIjG,UAAU,oEAFd,UAII,iCAAS4F,EAAEjE,OACX,cAAC,IAAD,CAAM1B,GAAE,gCAA2B2F,EAAEzB,KAArC,SACI,sBAAMjE,MAAO,CAACyG,gBAAgB,UAAW3G,UAAU,sBAAnD,sBAIJ,sBAAOE,MAAO,CAACyG,gBAAgB,OAC3BnG,QAAS,kBAAMqR,EAAQjM,EAAEzB,MACzBnE,UAAU,gCAFd,sBATKiG,QAkBjB,+BCwIL8L,GAtMO,SAAC,GAAe,IAAbtE,EAAY,EAAZA,MACrB,EAA4B/L,mBAAS,CACjCC,KAAM,GACNJ,YAAa,GACb+E,MAAO,GACPY,WAAY,GACZX,SAAU,GACVkE,SAAU,GACVjG,SAAU,GACVkG,MAAO,GACPxH,SAAS,EACTpB,OAAO,EACP6I,eAAgB,GAChBC,mBAAmB,EACnBC,SAAU,KAbd,mBAAO7I,EAAP,KAAeC,EAAf,KAeA,EAAoCP,mBAAS,IAA7C,mBAAOwF,EAAP,KAAmBiF,EAAnB,KAEA,EAAwBhN,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAEV3H,EAYAK,EAZAL,KACAJ,EAWAS,EAXAT,YACA+E,EAUAtE,EAVAsE,MAIA9B,GAMAxC,EARAuE,SAQAvE,EAPAyI,SAOAzI,EANAwC,UACAtB,EAKAlB,EALAkB,QACApB,EAIAE,EAJAF,MACA6I,EAGA3I,EAHA2I,eACAC,EAEA5I,EAFA4I,kBACAC,EACA7I,EADA6I,SAGEtB,EAAO,SAAAvD,IbqHS,SAAAA,GACtB,OAAOrF,MAAM,GAAD,OAAI1B,EAAJ,oBAAmB+G,GAAa,CACpCpF,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,Oa3H1B+Q,CAAWhM,GAAWrH,MAAK,SAAAkE,GACnBA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,UAGnCG,EAAU,2BACHD,GADE,IAELL,KAAMkB,EAAKlB,KACXJ,YAAasB,EAAKtB,YAClB+E,MAAOzD,EAAKyD,MACZC,SAAU1D,EAAK0D,SAASpC,IACxBsG,SAAU5H,EAAK4H,SACfjG,SAAU3B,EAAK2B,SACfqG,SAAU,IAAIC,YAGlBmH,SAMNA,EAAiB,WACnBvO,IAAgB/E,MAAK,SAAAkE,GACbA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAEnCqK,EAActJ,OAK1B0E,qBAAU,WACNgC,EAAKkE,EAAMhG,OAAOzB,aACnB,IAEH,IAAM9D,EAAe,SAAAP,GAAI,OAAI,SAAAS,GACzB,IAAMD,EAAiB,UAATR,EAAmBS,EAAMC,OAAO0I,MAAM,GAAK3I,EAAMC,OAAOF,MACtE0I,EAASG,IAAIrJ,EAAMQ,GACnBF,EAAU,2BAAKD,GAAN,kBAAeL,EAAOQ,OAG7BG,EAAc,SAAAF,GAChBA,EAAMG,iBACNN,EAAU,2BAAKD,GAAN,IAAcF,MAAO,GAAIoB,SAAS,KbkFtB,SAAC8C,EAAWwD,EAAQF,EAAO7E,GACpD,OAAO9D,MAAM,GAAD,OAAI1B,EAAJ,oBAAmB+G,EAAnB,YAAgCwD,GAAU,CAC9C5I,OAAQ,MACR4B,QAAS,CACLC,OAAQ,mBACRgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAM+B,IAET9F,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,Ma5F1BiR,CAAczE,EAAMhG,OAAOzB,UAAW1F,EAAK6D,IAAKmF,EAAOuB,GAAUlM,MAAK,SAAAkE,GAC9DA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAEnCG,EAAU,2BACHD,GADE,IAELL,KAAM,GACNJ,YAAa,GACbmJ,MAAO,GACPpE,MAAO,GACP9B,SAAU,GACVtB,SAAS,EACTpB,OAAO,EACP8I,mBAAmB,EACnBD,eAAgB9H,EAAKlB,YAwFrC,OACI,cAACN,EAAD,CAAQC,MAAM,oBAAoBC,YAAW,gBAAWjB,EAAKqB,KAAhB,iCAA7C,SACI,qBAAK3B,UAAU,MAAf,SACI,sBAAKA,UAAU,uBAAf,UAjBRkD,GACI,qBAAKlD,UAAU,sBAAf,SACI,8CARR,qBAAKA,UAAU,mBAAmBE,MAAO,CAAE4C,QAAS6H,EAAiB,GAAK,QAA1E,SACI,yCAAQA,GAAR,oBAPJ,qBAAK3K,UAAU,qBAAqBE,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAAnE,SACKA,IAxDL,uBAAM9B,UAAU,OAAOgI,SAAU1F,EAAjC,UACI,4CACA,qBAAKtC,UAAU,aAAf,SACI,uBAAOA,UAAU,oBAAjB,SACI,uBAAO+C,SAAUb,EAAa,SAAUc,KAAK,OAAOrB,KAAK,QAAQuJ,OAAO,gBAIhF,sBAAKlL,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,kBACA,uBAAO+C,SAAUb,EAAa,QAASc,KAAK,OAAOhD,UAAU,eAAemC,MAAOR,OAGvF,sBAAK3B,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,yBACA,0BAAU+C,SAAUb,EAAa,eAAgBlC,UAAU,eAAemC,MAAOZ,OAGrF,sBAAKvB,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,mBACA,uBAAO+C,SAAUb,EAAa,SAAUc,KAAK,SAAShD,UAAU,eAAemC,MAAOmE,OAG1F,sBAAKtG,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,yBAAQ+C,SAAUb,EAAa,YAAalC,UAAU,eAAtD,UACI,mDACCkH,GACGA,EAAWvB,KAAI,SAACsC,EAAGhC,GAAJ,OACX,wBAAgB9D,MAAO8F,EAAE9D,IAAzB,SACK8D,EAAEtG,MADMsE,YAO7B,sBAAKjG,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,yBAAQ+C,SAAUb,EAAa,YAAalC,UAAU,eAAtD,UACI,mDACA,wBAAQmC,MAAM,IAAd,gBACA,wBAAQA,MAAM,IAAd,uBAIR,sBAAKnC,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAO+C,SAAUb,EAAa,YAAac,KAAK,SAAShD,UAAU,eAAemC,MAAOqC,OAG7F,wBAAQxE,UAAU,0BAAlB,+BAuBa,WACjB,GAAI4K,IACK9I,EACD,OAAO,cAAC,IAAD,CAAU7B,GAAG,MAafsD,WChEN4O,GA9HQ,SAAC,GAAe,IAAb1E,EAAY,EAAZA,MACtB,EAA4B/L,mBAAS,CACjCC,KAAM,GACNG,MAAO,GACP8I,mBAAmB,EACnBC,SAAU,KAJd,mBAAO7I,EAAP,KAAeC,EAAf,KAQA,EAAwB9C,IAAhBmB,EAAR,EAAQA,KAAMgJ,EAAd,EAAcA,MAEN3H,EAAmCK,EAAnCL,KAAMG,EAA6BE,EAA7BF,MAAO8I,EAAsB5I,EAAtB4I,kBAEfrB,EAAO,SAAA6I,IdAU,SAAAA,GACvB,OAAOzR,MAAM,GAAD,OAAI1B,EAAJ,qBAAoBmT,GAAc,CACtCxR,OAAQ,QAEXjC,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OcN1BoR,CAAYD,GAAmBzT,MAAK,SAAAkE,GAC5BA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAGnCG,EAAU,2BACHD,GADE,IAELL,KAAMkB,EAAKlB,YAM3B4F,qBAAU,WACNgC,EAAKkE,EAAMhG,OAAO2K,cACnB,IAEH,IAAMlQ,EAAe,SAAAP,GAAI,OAAI,SAAAS,GACzBH,EAAU,2BAAKD,GAAN,gBAAcF,OAAO,GAAQH,EAAOS,EAAMC,OAAOF,WAGxDmQ,EAAqB,SAAAxK,GACvBA,EAAEvF,iBAEF,IAAMgE,EAAW,CACb5E,KAAMA,IdhBY,SAACyQ,EAAY5I,EAAQF,EAAO/C,GACtD,OAAO5F,MAAM,GAAD,OAAI1B,EAAJ,qBAAoBmT,EAApB,YAAkC5I,GAAU,CAChD5I,OAAQ,MACR4B,QAAS,CAEL,eAAgB,mBAChBC,OAAQ,mBACRgH,cAAc,UAAD,OAAYH,IAE7B5G,KAAMnD,KAAKoD,UAAU4D,KAExB5H,MAAK,SAAAkC,GACF,OAAOA,EAAS+B,UAEnB5B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OcI1BsR,CAAe9E,EAAMhG,OAAO2K,WAAY9R,EAAK6D,IAAKmF,EAAO/C,GAAU5H,MAAK,SAAAkE,GAChEA,EAAKf,MACLG,EAAU,2BAAKD,GAAN,IAAcF,MAAOe,EAAKf,SAEnCG,EAAU,2BACHD,GADE,IAELL,KAAMkB,EAAKlB,KACXG,OAAO,EACP8I,mBAAmB,SA2DnC,OACI,cAACvJ,EAAD,CACIC,MAAK,aAAQhB,EAAKqB,MAClBJ,YAAW,qCACXvB,UAAU,kBAHd,SAKI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,oCAAf,UAjCR,sBAAKA,UAAW,qBAAsBO,KAAK,QAAQL,MAAO,CAAE4C,QAAShB,EAAQ,GAAK,QAAlF,UACI,wBAAQkB,KAAK,SAAShD,UAAU,QAAQwS,eAAa,QAAQC,aAAW,QAAxE,SACI,sBAAMC,cAAY,OAAlB,oBAEH5Q,KA9BL,qBAAK9B,UAAU,4CAAf,SACI,uBAAMA,UAAU,OAAOgI,SAAUsK,EAAjC,UACI,sBAAMtS,UAAU,mCAAhB,kCACA,sBAAMA,UAAU,cAAhB,2BACA,uBACA,uBACA,qBAAKA,UAAU,sCAAf,SACI,uBACI+C,SAAUb,EAAa,QACvBC,MAAOR,EACP3B,UAAU,WACVgD,KAAK,OACLuH,UAAQ,EACR5I,KAAK,WAGb,qBAAK3B,UAAU,WAAf,SACI,wBAAQgD,KAAK,SAAShD,UAAU,sDAAhC,iCA2BR,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMC,GAAG,oBAAoBD,UAAU,YAAvC,kCAXS,WACjB,GAAI4K,IACK9I,EACD,OAAO,cAAC,IAAD,CAAU7B,GAAG,sBA0BfsD,WC1GN,SAASoP,KACpB,OACI,cAAC,IAAD,UACA,eAAC,IAAD,WAEI,cAAC,IAAD,CAAOhT,KAAK,IAAIiT,OAAK,EAAC7J,UAAWV,IACjC,cAAC,IAAD,CAAO1I,KAAK,UAAUiT,OAAK,EAAC7J,UAAWtH,IACvC,cAAC,IAAD,CAAO9B,KAAK,UAAUiT,OAAK,EAAC7J,UAAW9F,IACvC,cAAC,IAAD,CAAOtD,KAAK,QAAQiT,OAAK,EAAC7J,UAAWiD,IACrC,cAAC,IAAD,CAAOrM,KAAK,sBAAsBiT,OAAK,EAAC7J,UAAWmE,IACnD,cAAC,IAAD,CAAOvN,KAAK,QAAQiT,OAAK,EAAC7J,UAAW2G,IAErC,cAAC7G,EAAD,CAAclJ,KAAK,kBAAkBiT,OAAK,EAAC7J,UAAWK,IACtD,cAACP,EAAD,CAAclJ,KAAK,mBAAmBiT,OAAK,EAAC7J,UAAWqI,IACvD,cAACvI,EAAD,CAAclJ,KAAK,kBAAkBiT,OAAK,EAAC7J,UAAW2I,KAEtD,cAAC,EAAD,CAAY/R,KAAK,mBAAmBiT,OAAK,EAAC7J,UAAW8J,IACrD,cAAC,EAAD,CAAYlT,KAAK,mBAAmBiT,OAAK,EAAC7J,UAAWiB,IACrD,cAAC,EAAD,CAAYrK,KAAK,kBAAkBiT,OAAK,EAAC7J,UAAWyB,IACpD,cAAC,EAAD,CAAY7K,KAAK,gBAAgBiT,OAAK,EAAC7J,UAAW+G,IAClD,cAAC,EAAD,CAAYnQ,KAAK,mCAAmCiT,OAAK,EAAC7J,UAAWgJ,KACrE,cAAC,EAAD,CAAYpS,KAAK,qCAAqCiT,OAAK,EAAC7J,UAAWoJ,UCnCnFW,IAAS7J,OACP,cAAC,IAAM8J,WAAP,UACE,cAACJ,GAAD,MAEFK,SAASC,eAAe,SAM1BzU,M","file":"static/js/main.719a1f47.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","export const API = process.env.REACT_APP_API_URL","import { API } from '../config';\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\n\r\nexport const signout = (next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n                method: \"GET\",\r\n            }).then(response => {\r\n                console.log('SignOut', response)\r\n            })\r\n            .catch(err => {\r\n                console.log('Error')\r\n            })\r\n    }\r\n}","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\nimport { itemTotal } from \"./cartHelpers\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShoppingCart } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#ff9900\" };\r\n  } else {\r\n    return { color: \"#ffffff\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs bg-primary\">\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link\" to=\"/\" style={isActive(history, \"/\")}>\r\n            Home\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link className=\"nav-link\" to=\"/shop\" style={isActive(history, \"/shop\")}>\r\n            Shop\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n                <Link\r\n                    className=\"nav-link\"\r\n                    style={isActive(history, \"/cart\")}\r\n                    to=\"/cart\"\r\n                >\r\n                    <FontAwesomeIcon icon={faShoppingCart} /> {\" \"}\r\n                    <sup>\r\n                        <small className=\"cart-badge\">{itemTotal()}</small>\r\n                    </sup>\r\n                </Link>\r\n            </li>\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              to=\"/user/dashboard\"\r\n              style={isActive(history, \"/user/dashboard\")}\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              to=\"/admin/dashboard\"\r\n              style={isActive(history, \"/admin/dashboard\")}\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </li>\r\n        )}\r\n\r\n        {!isAuthenticated() && (\r\n          <Fragment>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"nav-link\"\r\n                to=\"/signin\"\r\n                style={isActive(history, \"/signin\")}\r\n              >\r\n                SignIn\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className=\"nav-link\"\r\n                to=\"/signup\"\r\n                style={isActive(history, \"/signup\")}\r\n              >\r\n                SignUp\r\n              </Link>\r\n            </li>\r\n          </Fragment>\r\n        )}\r\n        {isAuthenticated && (\r\n          <li className=\"nav-item\">\r\n            <span\r\n              className=\"nav-link\"\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                })\r\n              }\r\n              style={{ cursor: \"pointer\", color: \"#ffffff\" }}\r\n            >\r\n              SignOut\r\n            </span>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Menu);\r\n","export const addItem = (item = [], count = 0, next = f => f) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n        cart.push({\r\n            ...item,\r\n            count: 1\r\n        });\r\n\r\n        // remove duplicates\r\n        // build an Array from new Set and turn it back into array using Array.from\r\n        // so that later we can re-map it\r\n        // new set will only allow unique values in it\r\n        // so pass the ids of each object/product\r\n        // If the loop tries to add the same value again, it'll get ignored\r\n        // ...with the array of ids we got on when first map() was used\r\n        // run map() on it again and return the actual product from the cart\r\n\r\n        cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\r\n            return cart.find(p => p._id === id);\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const itemTotal = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart')).length;\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nexport const getCart = () => {\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            return JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n    }\r\n    return [];\r\n};\r\n\r\nexport const updateItem = (productId, count) => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart[i].count = count;\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n};\r\n\r\nexport const removeItem = productId => {\r\n    let cart = [];\r\n    if (typeof window !== 'undefined') {\r\n        if (localStorage.getItem('cart')) {\r\n            cart = JSON.parse(localStorage.getItem('cart'));\r\n        }\r\n\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart.splice(i, 1);\r\n            }\r\n        });\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    }\r\n    return cart;\r\n};\r\n\r\nexport const emptyCart = next => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('cart');\r\n        next();\r\n    }\r\n};","import React from \"react\";\r\nimport Menu from '../core/Menu'\r\nimport \"../styles.css\"\r\n\r\nexport default function Layout({\r\n  title = \"Title\",\r\n  description = \"Description\",\r\n  className,\r\n  children,\r\n}) {\r\n  return (\r\n    <div>\r\n      <Menu/>\r\n      <div className=\"jumbotron\">\r\n        <h2>{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useState} from \"react\";\r\nimport Layout from '../core/Layout'\r\nimport {Link} from 'react-router-dom'\r\nimport {signup} from '../auth'\r\n\r\nconst Signup = () => {\r\n\r\n  const [values, setValues] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    error: '',\r\n    success: false\r\n});\r\n\r\nconst { name, email, password, success, error } = values;\r\n\r\nconst handleChange=(value)=>event=>{\r\n  setValues({ ...values, error: false, [value]: event.target.value });\r\n}\r\n\r\nconst clickSubmit = event => {\r\n  event.preventDefault();\r\n  setValues({ ...values, error: false });\r\n  signup({ name, email, password }).then(data => {\r\n      if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n      } else {\r\n          setValues({\r\n              ...values,\r\n              name: '',\r\n              email: '',\r\n              password: '',\r\n              error: '',\r\n              success: true\r\n          });\r\n      }\r\n  });\r\n};\r\n\r\nconst signUpForm = ()=>(\r\n  <form>\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Name</label>\r\n      <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" \r\n      value={name}\r\n      />\r\n  </div>\r\n\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Email</label>\r\n      <input onChange={handleChange('email')} type=\"email\" className=\"form-control\"\r\n      value={email}\r\n      />\r\n  </div>\r\n\r\n  <div className=\"form-group\">\r\n      <label className=\"text-muted\">Password</label>\r\n      <input onChange={handleChange('password')} type=\"password\" className=\"form-control\"\r\n      value={password}\r\n      />\r\n  </div>\r\n  <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n      Submit\r\n  </button>\r\n</form>\r\n)\r\n\r\n\r\nconst showError = () => (\r\n  <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n      {error}\r\n  </div>\r\n);\r\n\r\nconst showSuccess = () => (\r\n  <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n      New account is created. Please.<Link to=\"/signin\">SignIn</Link>\r\n  </div>\r\n);\r\n\r\n  return (\r\n    <Layout title=\"Sign Out\" description=\"Sign out Node React E-commerce App\"\r\n    className=\"container col-md-8 offset-md-2\">\r\n      {showSuccess()}\r\n      {showError()}\r\n      {signUpForm()}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, {useState} from 'react';\r\nimport Layout from '../core/Layout'\r\nimport {signin, authenticate ,isAuthenticated} from '../auth'\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Signin = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        email: \"dean@gmail.com\",\r\n        password: \"dean@123\",\r\n        error: \"\",\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    });\r\n\r\n    const { email, password, loading, error, redirectToReferrer } = values;\r\n\r\n     const { user } = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true });\r\n        signin({ email, password }).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error, loading: false });\r\n            } else {\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        redirectToReferrer: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signInForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input\r\n                    onChange={handleChange(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                />\r\n            </div>\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n    loading && (\r\n        <div className=\"alert alert-info\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />;\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />;\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"SignIn\" description=\"Signin Node React E-commerce App\">\r\n\r\n            {showLoading()}\r\n            {showError()}\r\n            {signInForm()}\r\n            {redirectUser()}\r\n     </Layout>\r\n    );\r\n}\r\n\r\nexport default Signin;\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = sortBy => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\r\n            method: \"GET\"\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n            method: \"GET\"\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit,\r\n        skip,\r\n        filters\r\n    };\r\n    return fetch(`${API}/products/by/search`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params);\r\n    console.log(\"query\", query);\r\n    return fetch(`${API}/products/search?${query}`, {\r\n            method: \"GET\"\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const read = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n            method: \"GET\"\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listRelated = productId => {\r\n    return fetch(`${API}/products/related/${productId}`, {\r\n            method: \"GET\"\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getBraintreeClientToken = (userId, token) => {\r\n    return fetch(`${API}/braintree/getToken/${userId}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentData) => {\r\n    return fetch(`${API}/braintree/payment/${userId}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(paymentData)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const createOrder = (userId, token, createOrderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({ order: createOrderData })\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React from 'react';\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => {\r\n    return (\r\n        <div className=\"product-img\">\r\n        <img\r\n            src={`${API}/${url}/photo/${item._id}`}\r\n            alt={item.name}\r\n            className=\"mb-3\"\r\n            style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        />\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default ShowImage;\r\n","import React, { useState } from \"react\";\r\nimport { Link,Redirect } from \"react-router-dom\";\r\nimport ShowImage from \"./ShowImage\";\r\nimport moment from \"moment\";\r\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faRupeeSign } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Card = ({  product,\r\n    showViewProductButton = true,\r\n    showAddToCartButton = true,\r\n    cartUpdate = false,\r\n    showRemoveProductButton = false,\r\n    setRun = f => f,\r\n    run = undefined}) => {\r\n        const [redirect, setRedirect] = useState(false);\r\n        const [count, setCount] = useState(product.count);\r\n      \r\n        const showViewButton = showViewProductButton => {\r\n          return (\r\n            showViewProductButton && (\r\n              <Link to={`/product/${product._id}`} className=\"mr-2\">\r\n                <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">View Product</button>\r\n              </Link>\r\n            )\r\n          );\r\n        };\r\n        const addToCart = () => {\r\n          // console.log('added');\r\n          addItem(product, setRedirect(true));\r\n        };\r\n      \r\n        const shouldRedirect = redirect => {\r\n          if (redirect) {\r\n            return <Redirect to=\"/cart\" />;\r\n          }\r\n        };\r\n      \r\n        const showAddToCartBtn = showAddToCartButton => {\r\n          return (\r\n            showAddToCartButton && (\r\n              <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2 card-btn-1  \">\r\n                Add to cart\r\n              </button>\r\n            )\r\n          );\r\n        };\r\n  const showStock = (quantity) => {\r\n    return (\r\n      <div>\r\n        {quantity > 0 ? <p style={{backgroundColor:'blue'}}>In Stock</p>\r\n         : \r\n          <p style={{backgroundColor:'blue'}}>Out of Stock</p>\r\n        }\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = productId => event => {\r\n    setRun(!run); // run useEffect in parent Cart\r\n    setCount(event.target.value < 1 ? 1 : event.target.value);\r\n    if (event.target.value >= 1) {\r\n      updateItem(productId, event.target.value);\r\n    }\r\n  };\r\n\r\n  const showCartUpdateOptions = cartUpdate => {\r\n    return (\r\n      cartUpdate && (\r\n        <div>\r\n          <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n              <span className=\"input-group-text\">Adjust Quantity</span>\r\n            </div>\r\n            <input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} />\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n  const showRemoveButton = showRemoveProductButton => {\r\n    return (\r\n      showRemoveProductButton && (\r\n        <button\r\n          onClick={() => {\r\n            removeItem(product._id);\r\n            setRun(!run); // run useEffect in parent Cart\r\n          }}\r\n          className=\"btn btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove Product\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card \">\r\n      <div className=\"card-header card-header-1 \">{product.name}</div>\r\n      <div className=\"card-body\">\r\n        {shouldRedirect(redirect)}\r\n        <ShowImage item={product} url=\"product\" />\r\n        <p className=\"card-p  mt-2\">{product.description.substring(0, 100)} </p>\r\n        <p className=\"card-p black-10\"><FontAwesomeIcon icon={faRupeeSign}/> {product.price}</p>\r\n        <p className=\"black-9\">Category: {product.category && product.category.name}</p>\r\n        <p className=\"black-8\">Added on {moment(product.createdAt).fromNow()}</p>\r\n        {showStock(product.quantity)}\r\n        <br />\r\n\r\n        {showViewButton(showViewProductButton)}\r\n\r\n        {showAddToCartBtn(showAddToCartButton)}\r\n\r\n        {showRemoveButton(showRemoveProductButton)}\r\n\r\n        {showCartUpdateOptions(cartUpdate)}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = () => {\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    category: \"\",\r\n    search: \"\",\r\n    results: [],\r\n    searched: false,\r\n  });\r\n\r\n  const { categories, category, search, results, searched } = data;\r\n\r\n  const loadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setData({ ...data, categories: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const searchData = () => {\r\n    // console.log(search, category);\r\n    if (search) {\r\n      list({ search: search || undefined, category: category }).then(\r\n        (response) => {\r\n          if (response.error) {\r\n            console.log(response.error);\r\n          } else {\r\n            setData({ ...data, results: response, searched: true });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    searchData();\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setData({ ...data, [name]: event.target.value, searched: false });\r\n  };\r\n\r\n  const searchMessage = (searched, results) => {\r\n    if (searched && results.length > 0) {\r\n      return `Found ${results.length} products`;\r\n    }\r\n    if (searched && results.length < 1) {\r\n      return `No products found`;\r\n    }\r\n  };\r\n\r\n  const searchedProducts = (results = []) => {\r\n    return (\r\n      <div>\r\n        <h2 className=\"mt-4 mb-4\">{searchMessage(searched, results)}</h2>\r\n\r\n        <div className=\"row\">\r\n          {results.map((product, i) => (\r\n            <div className=\"col-4 mb-3\">\r\n              <Card key={i} product={product} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const searchForm = () => (\r\n    <form onSubmit={searchSubmit}>\r\n      <span className=\"input-group-text\">\r\n        <div className=\"input-group input-group-lg\">\r\n          <div className=\"input-group-prepend\">\r\n            <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\r\n              <option value=\"All\">All</option>\r\n              {categories.map((c, i) => (\r\n                <option key={i} value={c._id}>\r\n                  {c.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <input\r\n            type=\"search\"\r\n            className=\"form-control\"\r\n            onChange={handleChange(\"search\")}\r\n            placeholder=\"Search by name\"\r\n          />\r\n        </div>\r\n        <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\r\n          <button className=\"input-group-text\">Search</button>\r\n        </div>\r\n      </span>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"container mb-3\">{searchForm()}</div>\r\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React , {useState,useEffect} from 'react'\r\nimport Layout from './Layout'\r\nimport {getProducts} from '../core/apiCore'\r\nimport Card from './Card'\r\nimport Search from './Search'\r\nexport default function Home() {\r\n    const [productsBySell, setProductsBySell] = useState([]);\r\n    const [productsByArrival, setProductsByArrival] = useState([]);\r\n    const [error, setError] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    }, []);\r\n\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title=\"FullStack React Node MongoDB Ecommerce App\"\r\n            description=\"Node React E-commerce App\"\r\n            className=\"container-fluid\"\r\n        >\r\n             <Search /> \r\n            <h2 className=\"mb-4\">New Arrivals</h2>\r\n            <div className=\"row\">\r\n                {productsByArrival.map((product, i) => (\r\n                    <div key={i} className=\"col-4 mb-3\">\r\n                        <Card product={product} />\r\n                    </div>\r\n                ))}\r\n                </div>\r\n\r\n            <h2 className=\"mb-4\">Best Sellers</h2>\r\n            <div className=\"row\">\r\n                {productsBySell.map((product, i) => (\r\n                    <div key={i} className=\"col-4 mb-3\">\r\n                        <Card product={product} />\r\n                    </div>\r\n                ))}\r\n            </div> \r\n\r\n        </Layout>\r\n    )\r\n}\r\n","import React  from 'react'\r\nimport {Route,Redirect} from 'react-router-dom'\r\nimport {isAuthenticated} from '../auth/index'\r\n\r\nexport default function PrivateRoute({component:Component,...rest}) {\r\n    return (\r\n        <Route {...rest} render={props=>isAuthenticated()?(\r\n            <Component {...props}/>\r\n            \r\n        ):(\r\n          <Redirect to={{pathname:'/signin',state:{from:props.location}}}/>\r\n        )} />\r\n    )\r\n}\r\n","import { API } from \"../config\";\r\n\r\nexport const read = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"jwt\")) {\r\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n            auth.user = user;\r\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n    return fetch(`${API}/orders/by/user/${userId}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React , {useState,useEffect} from 'react';\r\nimport Layout from '../core/Layout'\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated } from \"../auth\";\r\nimport {getPurchaseHistory} from '../user/apiUser'\r\nimport moment from \"moment\";\r\n\r\nconst UserDashboard = () => {\r\n    const [history, setHistory] = useState([]);\r\n\r\n\r\n    const {\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n    const token = isAuthenticated().token;\r\n\r\n    const init = (userId, token) => {\r\n        getPurchaseHistory(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setHistory(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(_id, token);\r\n    }, []);\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">User Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/cart\">\r\n                            My Cart\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>\r\n                            Update Profile\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">\r\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n\r\n    const purchaseHistory = history => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">Purchase history</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        {history.map((h, i) => {\r\n                            return (\r\n                                <div>\r\n                                    <hr />\r\n                                    {h.products.map((p, i) => {\r\n                                        return (\r\n                                            <div key={i}>\r\n                                                <h6>Product name: {p.name}</h6>\r\n                                                <h6>\r\n                                                    Product price: ${p.price}\r\n                                                </h6>\r\n                                                <h6>\r\n                                                    Purchased date:{\" \"}\r\n                                                    {moment(\r\n                                                        p.createdAt\r\n                                                    ).fromNow()}\r\n                                                </h6>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`G'day ${name}!`}\r\n        className=\"container-fluid\">\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-3\">{userLinks()}</div>\r\n                <div className=\"col-9\">\r\n                    {userInfo()}\r\n                    {purchaseHistory(history)}\r\n                </div>\r\n            </div> \r\n\r\n            <div className=\"card\">\r\n                <h3 className=\"card-header\">Purchase History</h3>\r\n\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">History</li>\r\n                </ul>\r\n\r\n            </div>\r\n            \r\n\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default UserDashboard;\r\n","import React from 'react'\r\nimport Layout from '../core/Layout'\r\nimport { isAuthenticated } from \"../auth\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default function AdminDashBoard() {\r\n\r\n    const {\r\n        user: { _id, name, email, role }\r\n    } = isAuthenticated();\r\n\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header\">Admin Links</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/category\">\r\n                            Create Category\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/create/product\">\r\n                            Create Product\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/orders\">\r\n                            View Orders\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link className=\"nav-link\" to=\"/admin/products\">\r\n                            Manage Products\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n\r\n    const adminInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\">User Information</h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">{name}</li>\r\n                    <li className=\"list-group-item\">{email}</li>\r\n                    <li className=\"list-group-item\">\r\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n        title=\"Dashboard\"\r\n        description={`G'day ${name}!`}\r\n        className=\"container-fluid\"\r\n    >\r\n        <div className=\"row\">\r\n            <div className=\"col-3\">{adminLinks()}</div>\r\n            <div className=\"col-9\">{adminInfo()}</div>\r\n        </div>\r\n    </Layout>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {isAuthenticated} from '../auth/index'\r\nimport {Route,Redirect} from 'react-router-dom'\r\n\r\nconst AdminRoute = ({component:Component,...rest}) => {\r\n    return (\r\n        <Route {...rest} render={props=>isAuthenticated() && isAuthenticated().user.role===1 ?(\r\n            <Component {...props}/>\r\n            \r\n        ):(\r\n          <Redirect to={{pathname:'/',state:{from:props.location}}}/>\r\n        )} />\r\n    );\r\n}\r\n\r\nexport default AdminRoute;\r\n","import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(category)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\nexport const getCategory = categoryId => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                // content type?\r\n                'Content-Type': 'application/json',\r\n                Accept: 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify(category)\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getStatusValues = (userId, token) => {\r\n    return fetch(`${API}/order/status-values/${userId}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const listOrders = (userId, token) => {\r\n    return fetch(`${API}/order/list/${userId}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateOrderStatus = (userId, token, orderId, status) => {\r\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({ status, orderId })\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: product\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        });\r\n};\r\n\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * to perform crud on product\r\n * get all products\r\n * get a single product\r\n * update single product\r\n * delete single product\r\n */\r\n\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products?limit=undefined`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const getProduct = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                Authorization: `Bearer ${token}`\r\n            },\r\n            body: product\r\n        })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};","import React , {useState} from 'react';\r\nimport Layout from '../core/Layout'\r\nimport {isAuthenticated} from '../auth/index'\r\nimport {Link} from 'react-router-dom'\r\nimport {createCategory} from './apiAdmin'\r\nconst AddCategory = () => {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    // destructure user and token from localstorage\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const handleChange = e => {\r\n        setError(\"\");\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n        // make request to api to create category\r\n        createCategory(user._id, token, { name }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setError(\"\");\r\n                setSuccess(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const newCategoryFom = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group mb-3\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    onChange={handleChange}\r\n                    value={name}\r\n                    autoFocus\r\n                    required\r\n                />\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Create Category</button>\r\n        </form>\r\n    );\r\n\r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">{name} is created</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">Category should be unique</h3>;\r\n        }\r\n    };\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\r\n                Back to Dashboard\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n        title=\"Add a new category\"\r\n        description={`G'day ${user.name}, ready to add a new category?`}\r\n    >\r\n        <div className=\"row\">\r\n            <div className=\"col-md-8 offset-md-2\">\r\n                {showSuccess()}\r\n                {showError()}\r\n                {newCategoryFom()}\r\n                {goBack()}\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n    );\r\n}\r\n\r\nexport default AddCategory;\r\n","import React , {useState,useEffect}from 'react';\r\nimport {isAuthenticated} from '../auth/index'\r\nimport {createProduct,getCategories} from './apiAdmin'\r\nimport Layout from '../core/Layout'\r\nconst AddProduct = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: '',\r\n        createdProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        categories,\r\n        category,\r\n        shipping,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    // load categories and set form data\r\n    const init = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init();\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        createProduct(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: '',\r\n                    description: '',\r\n                    photo: '',\r\n                    price: '',\r\n                    error:'',\r\n                    loading: false,\r\n                    createdProduct: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group mb-3\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">Create Product</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is created!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n    loading && (\r\n        <div className=\"alert alert-success\">\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}, ready to add a new product?`}>\r\n        <div className=\"row\">\r\n            <div className=\"col-md-8 offset-md-2\">\r\n                {showLoading()}\r\n                {showSuccess()}\r\n                {showError()}\r\n                {newPostForm()}\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n);\r\n}\r\n\r\nexport default AddProduct;\r\n","import React , {useState,useEffect} from 'react';\r\n\r\nconst CheckBox = ({categories,handleFilters}) => {\r\n\r\n    const [checked, setCheked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        // return the first index or -1\r\n        const currentCategoryId = checked.indexOf(c);\r\n        const newCheckedCategoryId = [...checked];\r\n        // if currently checked was not already in checked state > push\r\n        // else pull/take off\r\n        if (currentCategoryId === -1) {\r\n            newCheckedCategoryId.push(c);\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1);\r\n        }\r\n        // console.log(newCheckedCategoryId);\r\n        setCheked(newCheckedCategoryId);\r\n         handleFilters(newCheckedCategoryId);\r\n       // console.log(newCheckedCategoryId)\r\n    };\r\n\r\n    return categories.map((c, i) => (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input style={{marginRight:10}}\r\n              value={checked.indexOf(c._id === -1)}\r\n                onChange={handleToggle(c._id)}\r\n                type=\"checkbox\"\r\n                className=\"form-check-input\"\r\n            />\r\n            <label className=\"form-check-label\">{c.name}</label>\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default CheckBox;\r\n","export const prices = [{\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"$0 to $9\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"$10 to $19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"$20 to $29\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"$30 to $39\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than $40\",\r\n        array: [40, 99]\r\n    }\r\n];","import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faRupeeSign } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst RadioBox = ({ prices, handleFilters }) => {\r\n  const [value, setValue] = useState(0);\r\n\r\n  const handleChange = (event) => {\r\n    handleFilters(event.target.value);\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return prices.map((p, i) => (\r\n    <div key={i}>\r\n      <input\r\n        onChange={handleChange}\r\n        value={`${p._id}`}\r\n        name={p}\r\n        type=\"radio\"\r\n        className=\"mr-2 ml-4\"\r\n      />\r\n      <label className=\"form-check-label\">\r\n         {p.name}{\" \"}\r\n    \r\n      </label>\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport default RadioBox;","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"./Layout\";\r\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\r\nimport Checkbox from \"./CheckBox\";\r\nimport { prices } from \"./fixedPrices\";\r\nimport Card from \"./Card\";\r\nimport RadioBox from \"./RadioBox\";\r\n\r\nconst Shop = () => {\r\n  const [myFilters, setMyFilters] = useState({\r\n    filters: { category: [], price: [] },\r\n  });\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const [limit, setLimit] = useState(6);\r\n  const [skip, setSkip] = useState(0);\r\n  const [size, setSize] = useState(0);\r\n  const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n  const init = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleFilters = (filters, filterBy) => {\r\n    // console.log(\"SHOP\", filters, filterBy);\r\n\r\n    const newFilters = { ...myFilters };\r\n    newFilters.filters[filterBy] = filters;\r\n\r\n    if (filterBy === \"price\") {\r\n      let priceValues = handlePrice(filters);\r\n      newFilters.filters[filterBy] = priceValues;\r\n    }\r\n    loadFilteredResults(myFilters.filters);\r\n    setMyFilters(newFilters);\r\n  };\r\n\r\n  const loadFilteredResults = (newFilters) => {\r\n    // console.log(newFilters);\r\n    getFilteredProducts(skip, limit, newFilters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults(data.data);\r\n        setSize(data.size);\r\n        setSkip(0);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handlePrice = (value) => {\r\n    const data = prices;\r\n    let array = [];\r\n\r\n    for (let key in data) {\r\n      if (data[key]._id === parseInt(value)) {\r\n        array = data[key].array;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  const loadMore = () => {\r\n    let toSkip = skip + limit;\r\n    // console.log(newFilters);\r\n    getFilteredProducts(toSkip, limit, myFilters.filters).then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setFilteredResults([...filteredResults, ...data.data]);\r\n        setSize(data.size);\r\n        setSkip(toSkip);\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadMoreButton = () => {\r\n    return (\r\n      size > 0 &&\r\n      size >= limit && (\r\n        <button onClick={loadMore} className=\"btn btn-warning mb-5\">\r\n          Load more\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    init();\r\n    // loadFilteredResults(skip, limit, myFilters.filters);\r\n  }, []);\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Shop Page\"\r\n      description=\"Search and find books of your choice\"\r\n      className=\"container-fluid\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-4\">\r\n          <h4>Filter by categories</h4>\r\n          <ul>\r\n            <Checkbox\r\n              categories={categories}\r\n              handleFilters={(filters) => handleFilters(filters, \"category\")}\r\n            />\r\n          </ul>\r\n          <h4>Filter by price range</h4>\r\n          <div>\r\n            <RadioBox\r\n              prices={prices}\r\n              handleFilters={(filters) => handleFilters(filters, \"price\")}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-8\">\r\n          <h2 className=\"mb-4\">Products</h2>\r\n          <div className=\"row\">\r\n            {filteredResults.map((product, i) => (\r\n              <div key={i} className=\"col-4 mb-3\">\r\n                <Card product={product} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <hr />\r\n          {loadMoreButton()}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { read, listRelated } from './apiCore';\r\nimport Card from './Card';\r\n\r\nconst Product = (props) => {\r\n    const [product, setProduct] = useState({});\r\n    const [relatedProduct, setRelatedProduct] = useState([]);\r\n    const [error, setError] = useState(false);\r\n\r\n    \r\n    \r\n    const loadSingleProduct = productId => {\r\n        read(productId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProduct(data);\r\n                // fetch related products\r\n                listRelated(data._id).then(data => {\r\n                    if (data.error) {\r\n                        setError(data.error);\r\n                    } else {\r\n                        setRelatedProduct(data);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const productId = props.match.params.productId;\r\n        loadSingleProduct(productId);\r\n    }, [props]);\r\n\r\n    \r\n    return (\r\n        <Layout\r\n        title={product && product.name}\r\n        description={product && product.description && product.description.substring(0, 100)}\r\n        className=\"container-fluid\"\r\n    >\r\n        <div className=\"row\">\r\n            <div className=\"col-8\">\r\n                {product && product.description && <Card product={product} showViewProductButton={false} />}\r\n            </div>\r\n\r\n            <div className=\"col-4\">\r\n                <h4>Related products</h4>\r\n                {relatedProduct.map((p, i) => (\r\n                    <div className=\"mb-3\" key={i}>\r\n                        <Card product={p} />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n    );\r\n}\r\n\r\nexport default Product;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { getProducts, getBraintreeClientToken, processPayment, createOrder } from './apiCore';\r\nimport { emptyCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom';\r\n// import \"braintree-web\"; // not using this package\r\nimport DropIn from 'braintree-web-drop-in-react';\r\n\r\nconst Checkout = ({ products, setRun = f => f, run = undefined }) => {\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        clientToken: null,\r\n        error: '',\r\n        instance: {},\r\n        address: ''\r\n    });\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id;\r\n    const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n    const getToken = (userId, token) => {\r\n        getBraintreeClientToken(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                setData({ ...data, error: data.error });\r\n            } else {\r\n                console.log(data);\r\n                setData({ clientToken: data.clientToken });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token);\r\n    }, []);\r\n\r\n    const handleAddress = event => {\r\n        setData({ ...data, address: event.target.value });\r\n    };\r\n\r\n    const getTotal = () => {\r\n        return products.reduce((currentValue, nextValue) => {\r\n            return currentValue + nextValue.count * nextValue.price;\r\n        }, 0);\r\n    };\r\n\r\n    const showCheckout = () => {\r\n        return isAuthenticated() ? (\r\n            <div>{showDropIn()}</div>\r\n        ) : (\r\n            <Link to=\"/signin\">\r\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\r\n            </Link>\r\n        );\r\n    };\r\n\r\n    let deliveryAddress = data.address;\r\n\r\n    const buy = () => {\r\n        setData({ loading: true });\r\n        // send the nonce to your server\r\n        // nonce = data.instance.requestPaymentMethod()\r\n        let nonce;\r\n        let getNonce = data.instance\r\n            .requestPaymentMethod()\r\n            .then(data => {\r\n                // console.log(data);\r\n                nonce = data.nonce;\r\n                // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\r\n                // and also total to be charged\r\n                // console.log(\r\n                //     \"send nonce and total to process: \",\r\n                //     nonce,\r\n                //     getTotal(products)\r\n                // );\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: getTotal(products)\r\n                };\r\n\r\n                processPayment(userId, token, paymentData)\r\n                    .then(response => {\r\n                        console.log(response);\r\n                        // empty cart\r\n                        // create order\r\n\r\n                        const createOrderData = {\r\n                            products: products,\r\n                            transaction_id: response.transaction.id,\r\n                            amount: response.transaction.amount,\r\n                            address: deliveryAddress\r\n                        };\r\n\r\n                        createOrder(userId, token, createOrderData)\r\n                            .then(response => {\r\n                                emptyCart(() => {\r\n                                    setRun(!run); // run useEffect in parent Cart\r\n                                    console.log('payment success and empty cart');\r\n                                    setData({\r\n                                        loading: false,\r\n                                        success: true\r\n                                    });\r\n                                });\r\n                            })\r\n                            .catch(error => {\r\n                                console.log(error);\r\n                                setData({ loading: false });\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                        setData({ loading: false });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                // console.log(\"dropin error: \", error);\r\n                setData({ ...data, error: error.message });\r\n            });\r\n    };\r\n\r\n    const showDropIn = () => (\r\n        <div onBlur={() => setData({ ...data, error: '' })}>\r\n            {data.clientToken !== null && products.length > 0 ? (\r\n                <div>\r\n                    <div className=\"gorm-group mb-3\">\r\n                        <label className=\"text-muted\">Delivery address:</label>\r\n                        <textarea\r\n                            onChange={handleAddress}\r\n                            className=\"form-control\"\r\n                            value={data.address}\r\n                            placeholder=\"Type your delivery address here...\"\r\n                        />\r\n                    </div>\r\n\r\n                    <DropIn\r\n                        options={{\r\n                            authorization: data.clientToken,\r\n                            // paypal: {\r\n                            //     flow: 'vault'\r\n                            // },\r\n                            googlePay:{\r\n                                flow: 'vault'\r\n                            }\r\n                        }}\r\n                        onInstance={instance => (data.instance = instance)}\r\n                    />\r\n                    <button onClick={buy} className=\"btn btn-success btn-block\">\r\n                        Pay\r\n                    </button>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    );\r\n\r\n    const showError = error => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = success => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            Thanks! Your payment was successful!\r\n        </div>\r\n    );\r\n\r\n    const showLoading = loading => loading && <h2 className=\"text-danger\">Loading...</h2>;\r\n\r\n    return (\r\n        <div>\r\n            <h2>Total: ${getTotal()}</h2>\r\n            {showLoading(data.loading)}\r\n            {showSuccess(data.success)}\r\n            {showError(data.error)}\r\n            {showCheckout()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport { getCart } from './cartHelpers';\r\nimport Card from './Card';\r\nimport Checkout from './Checkout';\r\n\r\nconst Cart = () => {\r\n\r\n    const [items, setItems] = useState([]);\r\n    const [run, setRun] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setItems(getCart());\r\n    }, [run]);\r\n\r\n    const showItems = items => {\r\n        return (\r\n            <div>\r\n                <h2>Your cart has {`${items.length}`} items</h2>\r\n                <hr />\r\n                {items.map((product, i) => (\r\n                    <Card\r\n                        key={i}\r\n                        product={product}\r\n                        showAddToCartButton={false}\r\n                        cartUpdate={true}\r\n                        showRemoveProductButton={true}\r\n                        setRun={setRun}\r\n                        run={run}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const noItemsMessage = () => (\r\n        <h2>\r\n            Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\r\n        </h2>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n        title=\"Shopping Cart\"\r\n        description=\"Manage your cart items. Add remove checkout or continue shopping.\"\r\n        className=\"container-fluid\"\r\n    >\r\n        <div className=\"row\">\r\n            <div className=\"col-6\">{items.length > 0 ? showItems(items) : noItemsMessage()}</div>\r\n\r\n            <div className=\"col-6\">\r\n                <h2 className=\"mb-4\">Your cart summary</h2>\r\n                <hr />\r\n                <Checkout products={items} setRun={setRun} run={run} />\r\n            </div>\r\n        </div>\r\n    </Layout>\r\n);\r\n}\r\n\r\nexport default Cart;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\r\nimport moment from \"moment\";\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [statusValues, setStatusValues] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const loadOrders = () => {\r\n        listOrders(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setOrders(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadStatusValues = () => {\r\n        getStatusValues(user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setStatusValues(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadOrders();\r\n        loadStatusValues();\r\n    }, []);\r\n\r\n    const showOrdersLength = () => {\r\n        if (orders.length > 0) {\r\n            return (\r\n                <h1 className=\"text-danger display-2\">\r\n                    Total orders: {orders.length}\r\n                </h1>\r\n            );\r\n        } else {\r\n            return <h1 className=\"text-danger\">No orders</h1>;\r\n        }\r\n    };\r\n\r\n    const showInput = (key, value) => (\r\n        <div className=\"input-group mb-2 mr-sm-2\">\r\n            <div className=\"input-group-prepend\">\r\n                <div className=\"input-group-text\">{key}</div>\r\n            </div>\r\n            <input\r\n                type=\"text\"\r\n                value={value}\r\n                className=\"form-control\"\r\n                readOnly\r\n            />\r\n        </div>\r\n    );\r\n\r\n    const handleStatusChange = (e, orderId) => {\r\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(\r\n            data => {\r\n                if (data.error) {\r\n                    console.log(\"Status update failed\");\r\n                } else {\r\n                    loadOrders();\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    const showStatus = o => (\r\n        <div className=\"form-group\">\r\n            <h3 className=\"mark mb-4\">Status: {o.status}</h3>\r\n            <select\r\n                className=\"form-control\"\r\n                onChange={e => handleStatusChange(e, o._id)}\r\n            >\r\n                <option>Update Status</option>\r\n                {statusValues.map((status, index) => (\r\n                    <option key={index} value={status}>\r\n                        {status}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Orders\"\r\n            description={`G'day ${\r\n                user.name\r\n            }, you can manage all the orders here`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showOrdersLength()}\r\n\r\n                    {orders.map((o, oIndex) => {\r\n                        return (\r\n                            <div\r\n                                className=\"mt-5\"\r\n                                key={oIndex}\r\n                                style={{ borderBottom: \"5px solid indigo\" }}\r\n                            >\r\n                                <h2 className=\"mb-5\">\r\n                                    <span className=\"bg-primary\">\r\n                                        Order ID: {o._id}\r\n                                    </span>\r\n                                </h2>\r\n\r\n                                <ul className=\"list-group mb-2\">\r\n                                    <li className=\"list-group-item\">\r\n                                        {showStatus(o)}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Transaction ID: {o.transaction_id}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Amount: ${o.amount}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Ordered by: {o.user.name}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Ordered on:{\" \"}\r\n                                        {moment(o.createdAt).fromNow()}\r\n                                    </li>\r\n                                    <li className=\"list-group-item\">\r\n                                        Delivery address: {o.address}\r\n                                    </li>\r\n                                </ul>\r\n\r\n                                <h3 className=\"mt-4 mb-4 font-italic\">\r\n                                    Total products in the order:{\" \"}\r\n                                    {o.products.length}\r\n                                </h3>\r\n\r\n                                {o.products.map((p, pIndex) => (\r\n                                    <div\r\n                                        className=\"mb-4\"\r\n                                        key={pIndex}\r\n                                        style={{\r\n                                            padding: \"20px\",\r\n                                            border: \"1px solid indigo\"\r\n                                        }}\r\n                                    >\r\n                                        {showInput(\"Product name\", p.name)}\r\n                                        {showInput(\"Product price\", p.price)}\r\n                                        {showInput(\"Product total\", p.count)}\r\n                                        {showInput(\"Product Id\", p._id)}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Orders;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { read, update, updateUser } from './apiUser';\r\n\r\nconst Profile = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        error: false,\r\n        success: false\r\n    });\r\n\r\n    const { token } = isAuthenticated();\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const init = userId => {\r\n        // console.log(userId);\r\n        read(userId, token).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: true });\r\n            } else {\r\n                setValues({ ...values, name: data.name, email: data.email });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.userId);\r\n    }, []);\r\n\r\n    const handleChange = name => e => {\r\n        setValues({ ...values, error: false, [name]: e.target.value });\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        update(match.params.userId, token, { name, email, password }).then(data => {\r\n            if (data.error) {\r\n                // console.log(data.error);\r\n                alert(data.error);\r\n            } else {\r\n                updateUser(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        name: data.name,\r\n                        email: data.email,\r\n                        success: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const redirectUser = success => {\r\n        if (success) {\r\n            return <Redirect to=\"/cart\" />;\r\n        }\r\n    };\r\n\r\n    const profileUpdate = (name, email, password) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input type=\"text\" onChange={handleChange('name')} className=\"form-control\" value={name} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input type=\"email\" onChange={handleChange('email')} className=\"form-control\" value={email} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input type=\"password\" onChange={handleChange('password')} className=\"form-control\" value={password} />\r\n            </div>\r\n\r\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Layout title=\"Profile\" description=\"Update your profile\" className=\"container-fluid\">\r\n            <h2 className=\"mb-4\">Profile update</h2>\r\n            {profileUpdate(name, email, password)}\r\n            {redirectUser(success)}\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\r\n\r\nconst ManageProducts = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const loadProducts = () => {\r\n        getProducts().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const destroy = productId => {\r\n        deleteProduct(productId, user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                loadProducts();\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProducts();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Manage Products\"\r\n            description=\"Perform CRUD on products\"\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center\">\r\n                        Total {products.length} products\r\n                    </h2>\r\n                    <hr />\r\n                    <ul className=\"list-group\">\r\n                        {products.map((p, i) => (\r\n                            <li\r\n                                key={i}\r\n                                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n                            >\r\n                                <strong>{p.name}</strong>\r\n                                <Link to={`/admin/product/update/${p._id}`}>\r\n                                    <span style={{backgroundColor:'yellow'}} className=\"badge badge-warning\">\r\n                                        Update\r\n                                    </span>\r\n                                </Link>\r\n                                <span  style={{backgroundColor:'red'}}\r\n                                    onClick={() => destroy(p._id)}\r\n                                    className=\"badge badge-danger badge-pill\"\r\n                                >\r\n                                    Delete\r\n                                </span>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <br />\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default ManageProducts;","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { getProduct, getCategories, updateProduct } from './apiAdmin';\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        categories: [],\r\n        category: '',\r\n        shipping: '',\r\n        quantity: '',\r\n        photo: '',\r\n        loading: false,\r\n        error: false,\r\n        createdProduct: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const { user, token } = isAuthenticated();\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        // categories,\r\n        category,\r\n        shipping,\r\n        quantity,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        redirectToProfile,\r\n        formData\r\n    } = values;\r\n\r\n    const init = productId => {\r\n        getProduct(productId).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                // populate the state\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description,\r\n                    price: data.price,\r\n                    category: data.category._id,\r\n                    shipping: data.shipping,\r\n                    quantity: data.quantity,\r\n                    formData: new FormData()\r\n                });\r\n                // load categories\r\n                initCategories();\r\n            }\r\n        });\r\n    };\r\n\r\n    // load categories and set form data\r\n    const initCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.productId);\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === 'photo' ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        updateProduct(match.params.productId, user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: '',\r\n                    description: '',\r\n                    photo: '',\r\n                    price: '',\r\n                    quantity: '',\r\n                    loading: false,\r\n                    error: false,\r\n                    redirectToProfile: true,\r\n                    createdProduct: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h4>Post Photo</h4>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-secondary\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Description</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Price</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Category</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Shipping</label>\r\n                <select onChange={handleChange('shipping')} className=\"form-control\">\r\n                    <option>Please select</option>\r\n                    <option value=\"0\">No</option>\r\n                    <option value=\"1\">Yes</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Quantity</label>\r\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />\r\n            </div>\r\n\r\n            <button className=\"btn btn-outline-primary\">Update Product</button>\r\n        </form>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} is updated!</h2>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () =>\r\n        loading && (\r\n            <div className=\"alert alert-success\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToProfile) {\r\n            if (!error) {\r\n                return <Redirect to=\"/\" />;\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}, ready to add a new product?`}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n                    {redirectUser()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { getCategory, updateCategory } from './apiAdmin';\r\n// {category: [\"5cd0258f2793ec6e100bc191\"], price: []}\r\n// http://localhost:3000/admin/category/update/5cd0258f2793ec6e100bc191\r\nconst UpdateCategory = ({ match }) => {\r\n    const [values, setValues] = useState({\r\n        name: '',\r\n        error: '',\r\n        redirectToProfile: false,\r\n        formData: ''\r\n    });\r\n\r\n    // destructure user and token from localStorage\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const { name, error, redirectToProfile } = values;\r\n\r\n    const init = categoryId => {\r\n        getCategory(categoryId, token).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                // populate the state\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init(match.params.categoryId);\r\n    }, []);\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const submitCategoryForm = e => {\r\n        e.preventDefault();\r\n        // update with ? you should send category name otherwise what to update?\r\n        const category = {\r\n            name: name\r\n        };\r\n        updateCategory(match.params.categoryId, user._id, token, category).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    error: false,\r\n                    redirectToProfile: true\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const updateCategoryForm = () => (\r\n        <div className=\"wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55\">\r\n            <form className=\"mb-5\" onSubmit={submitCategoryForm}>\r\n                <span className=\"login100-form-title p-b-32 m-b-7\">Update Category Form</span>\r\n                <span className=\"txt1 p-b-11\">Category Name</span>\r\n                <br />\r\n                <br />\r\n                <div className=\"wrap-input100 validate-input m-b-36\">\r\n                    <input\r\n                        onChange={handleChange('name')}\r\n                        value={name}\r\n                        className=\"input100\"\r\n                        type=\"text\"\r\n                        required\r\n                        name=\"name\"\r\n                    />\r\n                </div>\r\n                <div className=\"w-size25\">\r\n                    <button type=\"submit\" className=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4\">\r\n                        Save Changes\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className={'alert alert-danger'} role=\"alert\" style={{ display: error ? '' : 'none' }}>\r\n            <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToProfile) {\r\n            if (!error) {\r\n                return <Redirect to=\"/admin/categories\" />;\r\n            }\r\n        }\r\n    };\r\n\r\n    const goBackBTN = () => {\r\n        return (\r\n            <div className=\"mt-5\">\r\n                <Link to=\"/admin/categories\" className=\"text-info\">\r\n                    Back To Admin Home\r\n                </Link>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout\r\n            title={`Hi ${user.name}`}\r\n            description={`This is Update Product Action Page`}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8 offset-md-2 m-b-250 mb-5\">\r\n                    {showError()}\r\n                    {updateCategoryForm()}\r\n                    {goBackBTN()}\r\n                    {redirectUser()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React from 'react'\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\r\nimport Signup from './user/Signup.jsx'\r\nimport Signin from './user/Signin.jsx'\r\nimport Home from './core/Home'\r\nimport PrivateRoute from './/auth/PrivateRoute'\r\nimport UserDashboard from './user/UserDashboard'\r\nimport AdminDashboard from './user/AdminDashBoard'\r\nimport AdminRoute from './/auth/AdminRoute'\r\nimport AddCategory from './admin/AddCategory'\r\nimport AddProduct from './admin/AddProduct'\r\nimport Shop from './core/Shop'\r\nimport Product from './core/Product'\r\nimport Cart from './core/Cart';\r\nimport Orders from './admin/Orders';\r\nimport Profile from './user/Profile'\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport UpdateCategory from './admin/updateCategory';\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n        <Switch>\r\n            \r\n            <Route path=\"/\" exact component={Home}/>\r\n            <Route path=\"/signup\" exact component={Signup}/>\r\n            <Route path=\"/signin\" exact component={Signin}/>\r\n            <Route path=\"/shop\" exact component={Shop}/>\r\n            <Route path=\"/product/:productId\" exact component={Product}/>\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n\r\n            <PrivateRoute path='/user/dashboard' exact component={UserDashboard}/>\r\n            <PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\r\n            <PrivateRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n            \r\n            <AdminRoute path='/admin/dashboard' exact component={AdminDashboard}/>\r\n            <AdminRoute path='/create/category' exact component={AddCategory}/>\r\n            <AdminRoute path='/create/product' exact component={AddProduct}/>\r\n            <AdminRoute path=\"/admin/orders\" exact component={Orders} />\r\n            <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct} />\r\n            <AdminRoute path=\"/admin/category/update/:categoryId\" exact component={UpdateCategory} />\r\n        \r\n        </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport Routes from './Routes'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}